userid,dbid,queryid,query,calls,total_time,min_time,max_time,mean_time,stddev_time,rows,shared_blks_hit,shared_blks_read,shared_blks_dirtied,shared_blks_written,local_blks_hit,local_blks_read,local_blks_dirtied,local_blks_written,temp_blks_read,temp_blks_written,blk_read_time,blk_write_time
10,16385,4781283453004295250,GRANT EXECUTE ON FUNCTION pgstathashindex(regclass) TO pg_stat_scan_tables,1,0.052641,0.052641,0.052641,0.052641,0,0,30,0,3,1,0,0,0,0,0,0,0,0
10,16385,-6766677562622511123,COPY (SELECT * FROM pg_stat_statements) TO stdout WITH CSV HEADER,1,0.546829,0.546829,0.546829,0.546829,0,8,35,5,0,0,0,0,0,0,0,0,0,0
16384,16385,8448155763064285664,"SELECT SUM(ol_amount)                 FROM order_line
WHERE ol_o_id = d_no_o_id AND ol_d_id = d_d_id
AND ol_w_id = d_w_id",75135580,22629959.547634467,0.0055910000000000005,49629.312102,0.30118832579224963,17.727155667392033,75135580,800153307,151,0,94,0,0,0,0,0,0,0,0
16384,16385,-5864015298206844049,"SELECT o_id, o_carrier_id, o_entry_d 
                                          FROM
(SELECT o_id, o_carrier_id, o_entry_d
FROM orders where o_d_id = os_d_id AND o_w_id = os_w_id and o_c_id=os_c_id
ORDER BY o_id DESC) AS SUBQUERY
LIMIT $4",7512183,7217497.756102345,0.001128,32382.726306999997,0.9607723555325859,20.82541131229717,6492710,23427405,11276496,2028846,7840906,0,0,0,0,0,0,0,0
16384,16385,535210619853203150,"SELECT i_price, i_name, i_data                                       FROM item WHERE i_id = no_ol_i_id",751428664,13546324.992273785,0.002137,15.162804,0.01802742647614696,0.11871338721047422,750670652,2253527980,0,0,0,0,0,0,0,0,0,0,0
10,13433,-8828646613545995663,SHOW log_connections,5,0.00777,0.000714,0.002417,0.001554,0.0006515351103355828,0,0,0,0,0,0,0,0,0,0,0,0,0
10,13433,8874842957009506731,SHOW log_duration,5,0.008674000000000001,0.000658,0.002311,0.0017348,0.0005738708565522387,0,0,0,0,0,0,0,0,0,0,0,0,0
10,16385,9007054616624864831,COPY (SELECT sum(size) AS wal_size FROM pg_ls_waldir()) TO stdout WITH CSV HEADER,1,5.268442,5.268442,5.268442,5.268442,0,1,0,0,0,0,0,0,0,0,0,0,0,0
10,13433,-8763080154347424346,"SELECT ct.conname, ct.conkey, ct.confkey, nl.nspname AS fknsp, cl.relname AS fktab, nr.nspname AS refnsp, cr.relname AS reftab FROM pg_constraint ct JOIN pg_class cl ON cl.oid = ct.conrelid JOIN pg_namespace nl ON nl.oid = cl.relnamespace JOIN pg_class cr ON cr.oid = ct.confrelid JOIN pg_namespace nr ON nr.oid = cr.relnamespace JOIN pg_catalog.pg_namespace nc ON nc.oid = ct.connamespace WHERE contype=$2 AND nc.nspname = $1",77,8.218367999999995,0.015633,3.8253269999999997,0.10673205194805195,0.42773703094140536,0,5,72,0,52,0,0,0,0,0,0,0,0
10,16385,-1223765790011969516,"COPY (SELECT c.oid, c.relname, c.relkind, st.* FROM pg_class AS c, pgstattuple(c.oid::regclass) AS st WHERE c.relnamespace = (SELECT oid FROM pg_namespace WHERE nspname = 'public') AND relkind IN ('r', 'i') ORDER BY relkind, relname) TO stdout WITH CSV HEADER",1,161613.230271,161613.230271,161613.230271,161613.230271,0,19,20741264,24788738,0,0,0,0,0,0,0,0,0,0
10,13433,-7700662603662758466,SHOW debug_print_rewritten,5,0.007716,0.000792,0.002348,0.0015432,0.0006363525437994257,0,0,0,0,0,0,0,0,0,0,0,0,0
16384,16385,-419445515445068817,"SELECT d_next_o_id                  FROM district
    WHERE d_w_id=st_w_id AND d_id=st_d_id",7511821,1378497.643421883,0.004625,707.0012879999999,0.18351044885413847,0.862936432211814,7511821,56511721,636,647,438,0,0,0,0,0,0,0,0
10,13433,-2834190937518791816,SHOW log_directory,5,0.009701999999999999,0.001513,0.00257,0.0019404,0.00035952223853330685,0,0,0,0,0,0,0,0,0,0,0,0,0
16384,16385,4585908510153829407,"UPDATE customer
SET c_balance = p_c_balance, c_data = p_c_new_data
WHERE c_w_id = p_c_w_id AND c_d_id = p_c_d_id AND
c_id = p_c_id",35240141,1996024.6349917634,0.008505,355.21007599999996,0.056640654048202815,0.7697618833753077,35240141,248750359,2484993,27006965,2199321,0,0,0,0,0,0,0,0
16384,16385,-1509001352764885261,"select payment($1,$2,$3,$4,$5,$6,$7,$8,$9,$10)",75144078,328991977.9986398,0.127228,64930.619738,4.378149107086801,90.23652509299134,75144078,4164099504,428257497,120720795,299593475,0,0,0,0,0,0,0,0
10,13433,-3977911648357329058,SHOW log_destination,5,0.020635999999999998,0.002084,0.008223,0.004127199999999999,0.0021690401010585306,0,0,0,0,0,0,0,0,0,0,0,0,0
10,16385,-8610820246424350903,CREATE EXTENSION IF NOT EXISTS pgstattuple,1,16.592598,16.592598,16.592598,16.592598,0,0,1465,70,46,4,0,0,0,0,0,0,0,0
10,13433,1570458032255627950,"SELECT	s.nspname AS schema_name, $1 AS package_name, f.proname AS function_name,
		$2::""char"" AS function_type, f.prorettype::regtype AS return_type,
		f.proargtypes::regtype[] AS arg_types,
		fs.calls AS call_count, fs.total_time, fs.self_time
FROM	pg_catalog.pg_namespace AS s				-- schema
JOIN	pg_catalog.pg_proc AS f						-- function
ON		f.pronamespace = s.oid
JOIN	pg_catalog.pg_stat_user_functions AS fs		-- Func. stats
ON		fs.funcid = f.oid",5,70.997096,11.129436,17.505091,14.1994192,2.4250056627362664,0,91,304,0,203,0,0,0,0,0,0,0,0
10,16385,7678840415924500974,"COPY (SELECT oid, relname, relkind, pg_table_size(oid) AS size, pg_size_pretty(pg_table_size(oid)) AS size_pretty FROM pg_class WHERE relnamespace = (SELECT oid FROM pg_namespace WHERE nspname = $1) AND relkind IN ($2, $3) ORDER BY relname) TO stdout WITH CSV HEADER",1,1.123534,1.123534,1.123534,1.123534,0,19,240,8,0,0,0,0,0,0,0,0,0,0
10,13433,-6887975327946995770,SET client_encoding TO 'utf8',825,12.533689000000013,0.00762,0.039998,0.015192350303030304,0.003945341312847793,0,0,0,0,0,0,0,0,0,0,0,0,0
10,16385,7889668247544608713,REVOKE EXECUTE ON FUNCTION pgstatindex(text) FROM PUBLIC,1,0.019618,0.019618,0.019618,0.019618,0,0,9,0,0,0,0,0,0,0,0,0,0,0
10,16385,-1893876962091545561,"SELECT c.relname AS index_name, r.relname AS table_name, i.indkey AS ind_keys FROM pg_catalog.pg_class c, pg_catalog.pg_namespace n, pg_catalog.pg_index i, pg_catalog.pg_class r WHERE c.relkind = $2 AND c.relnamespace = n.oid AND n.nspname = $1 AND c.oid = i.indexrelid AND r.oid = i.indrelid",81,49.807601,0.11903799999999999,3.0242329999999997,0.6149086543209877,0.4756656757865346,3429,18168,354,0,249,0,0,0,0,0,0,0,0
10,16385,-7114524403290099261,SELECT nspname AS schema_name FROM pg_catalog.pg_namespace WHERE nspname = $1 OR nspname NOT LIKE $2,26,0.325827,0.009465,0.016135,0.012531807692307693,0.001826077953918447,78,26,0,0,0,0,0,0,0,0,0,0,0
10,13433,-1210793084495882891,"SELECT datname AS database_name, pid AS procpid, usename, client_addr, client_port, backend_start,
		xact_start, query_start, CASE WHEN wait_event IS NULL THEN $1 ELSE $2 END AS is_waiting,
		state = $3 AS is_idle, state like $4 AS is_idle_in_transaction, query ilike $5 as is_vacuum,
		client_port IS NULL AND (query like $6 OR query like $7) as is_autovacuum,
		now() AS capture_time, wait_event, wait_event_type, query, state, state_change FROM pg_catalog.pg_stat_activity",7,26.287058,0.260722,6.756397,3.7552939999999997,1.7904453431976077,2979,35,0,0,0,0,0,0,0,0,0,0,0
10,16385,-9141043935656865573,"CREATE FUNCTION pgstatindex(IN relname regclass,
    OUT version INT,
    OUT tree_level INT,
    OUT index_size BIGINT,
    OUT root_block_no BIGINT,
    OUT internal_pages BIGINT,
    OUT leaf_pages BIGINT,
    OUT empty_pages BIGINT,
    OUT deleted_pages BIGINT,
    OUT avg_leaf_density FLOAT8,
    OUT leaf_fragmentation FLOAT8)
AS '$libdir/pgstattuple', 'pgstatindexbyid'
LANGUAGE C STRICT PARALLEL SAFE",1,0.077651,0.077651,0.077651,0.077651,0,0,71,1,1,0,0,0,0,0,0,0,0,0
10,13433,-8506820586081797325,SELECT spcname AS tablespace_name FROM pg_catalog.pg_tablespace,26,0.1723,0.004471999999999999,0.012386,0.006626923076923078,0.0016067483389915393,52,26,0,0,0,0,0,0,0,0,0,0,0
16384,16385,-7905805567509321201,"INSERT INTO history (h_c_d_id, h_c_w_id, h_c_id, h_d_id,
h_w_id, h_date, h_amount, h_data)
VALUES (p_c_d_id, p_c_w_id, p_c_id, p_d_id,
p_w_id, tstamp, p_h_amount, h_data)",75144078,2596992.5970394667,0.003245,2246.936927,0.03456017647911384,0.7089743764883025,75144078,91782617,7814,722272,1221907,0,0,0,0,0,0,0,0
10,16385,-1053197692998249427,REVOKE EXECUTE ON FUNCTION pgstattuple(regclass) FROM PUBLIC,1,0.018842,0.018842,0.018842,0.018842,0,0,11,0,0,0,0,0,0,0,0,0,0,0
16384,16385,6703659376452535220,"UPDATE district SET d_next_o_id = d_next_o_id + $4 WHERE d_id = no_d_id AND d_w_id = no_w_id RETURNING d_next_o_id, d_tax",75143694,38868548.800514564,0.010625,68966.535811,0.5172562956582332,28.948719268538085,75143694,717731860,266691,267428,209911,0,0,0,0,0,0,0,0
10,13433,-4488053959279494118,SHOW log_checkpoints,5,0.007458,0.000667,0.002352,0.0014916,0.0006418038952826635,0,0,0,0,0,0,0,0,0,0,0,0,0
10,16385,7756308691762400194,SELECT nspname FROM pg_namespace nsp JOIN pg_proc pro ON pronamespace=nsp.oid WHERE proname = $1,27,4.344239000000001,0.058626,0.717888,0.16089774074074076,0.1414695746655227,0,137,25,0,17,0,0,0,0,0,0,0,0
16384,16385,2318375009225089574,"select * from ostat($1,$2,$3,$4,$5) as (ol_i_id INTEGER,  ol_supply_w_id INTEGER, ol_quantity SMALLINT, ol_amount NUMERIC, ol_delivery_d TIMESTAMPTZ,  out_os_c_id INTEGER, out_os_c_last VARCHAR, os_c_first VARCHAR, os_c_middle VARCHAR, os_c_balance NUMERIC, os_o_id INTEGER, os_entdate TIMESTAMPtz, os_o_carrier_id SMALLINT)",7512183,43853991.98631144,0.054389,55325.467501,5.837716145402435,148.14199982346142,64963528,171304887,68734874,15062381,47747911,0,0,0,0,0,0,0,0
10,13433,9089778385048873210,"SELECT COALESCE(d1.datname, $1) AS database_name, d1.numbackends, (
        SELECT COALESCE(count(query)::bigint, $2::bigint)
        FROM pg_catalog.pg_stat_activity
        WHERE datname = d1.datname AND state = $3
    ) AS idle_backends,
    d1.xact_commit, d1.xact_rollback, d1.blks_hit,
    $4::bigint AS blks_icache_hit, d1.blks_read, d1.tup_returned,
    d1.tup_fetched, d1.tup_inserted, d1.tup_updated, d1.tup_deleted
FROM pg_catalog.pg_stat_database d1",4,1008.4393689999998,12.147176,970.399147,252.10984224999999,414.7047443670702,20,149,0,0,0,0,0,0,0,0,0,0,0
10,16385,6575380484479358805,"SELECT c.relname AS view_name, c.relkind AS view_type, c.relispopulated AS ispopulated, spc.spcname AS tablespace_name, pg_get_userbyid(c.relowner) AS view_owner, pg_get_viewdef(c.oid, $2) AS definition FROM pg_catalog.pg_class c LEFT OUTER JOIN pg_tablespace spc on spc.oid=c.reltablespace LEFT OUTER JOIN pg_namespace n on n.oid=c.relnamespace WHERE (c.relkind = $3 OR c.relkind = $4) AND c.relnamespace = n.oid AND n.nspname = $1",81,1974.666815,0.548135,84.500388,24.37860265432099,18.77812164553113,3375,136889,5698,2,3687,0,0,0,0,0,0,0,0
10,16385,-5133820801638620109,"CREATE OR REPLACE FUNCTION pg_relpages(IN relname text)
RETURNS BIGINT
AS '$libdir/pgstattuple', 'pg_relpages_v1_5'
LANGUAGE C STRICT PARALLEL SAFE",1,0.045276,0.045276,0.045276,0.045276,0,0,39,0,0,0,0,0,0,0,0,0,0,0
10,13433,-4406722852627213537,"SELECT
	schemaname AS schema_name, tablename AS view_name,
	sml.relpages AS estimated_pages, target_pages,
	ROUND(CASE WHEN target_pages = $1 THEN $2
			   ELSE sml.relpages/target_pages::numeric END,$3)
		AS estimated_bloat_multiple,
	CASE WHEN relpages < target_pages
		 THEN $4 ELSE relpages::bigint - target_pages END
		AS estimated_pages_wasted,
	estimated_bytes_per_tuple
FROM (
	SELECT
		schemaname, tablename, cc.relpages, block_size,
		CEIL(cc.reltuples::float /
			CASE WHEN (block_size-page_header) / estimated_bytes_per_tuple = $5
				 THEN $6
				 ELSE ((block_size - page_header) / estimated_bytes_per_tuple)
				 END) AS target_pages,
		estimated_bytes_per_tuple
	 FROM (
		SELECT
			max_align, block_size, schemaname, tablename, page_header,
			(datawidth + max_align
				- CASE WHEN datawidth % max_align = $7 THEN max_align
						ELSE datawidth % max_align END
				+ tuple_header + max_align
				- CASE WHEN tuple_header % max_align = $8 THEN max_align
						ELSE tuple_header % max_align END
				+ (max_null_frac * (null_bitmap_size + max_align -
					    CASE WHEN null_bitmap_size % max_align = $9
					    THEN max_align
					    ELSE null_bitmap_size % max_align END))
				+ item_ptr)::bigint
				AS estimated_bytes_per_tuple
		FROM (
			SELECT
				schemaname, tablename, tuple_header, page_header, item_ptr,
				max_align, block_size,
				CEIL(SUM(($10 - null_frac) * avg_width))::bigint AS datawidth,
				MAX(null_frac) AS max_null_frac,
				(
					SELECT COALESCE(count(*)/$11, $12)
					FROM pg_stats s2
					WHERE null_frac <> $13 AND s2.schemaname = s.schemaname AND
						s2.tablename = s.tablename
				) AS null_bitmap_size
			FROM pg_stats s, (
		       SELECT
		         current_setting($14)::integer AS block_size,
		         CASE WHEN substring(v,$15,$16) IN ($17,$18,$19)
					  THEN $20 ELSE $21 END AS tuple_header,
		         CASE WHEN substring(v,$22,$23) IN ($24,$25,$26)
					  THEN $27 ELSE $28 END::integer AS page_header,
		         $29 AS max_align,
				 $30 AS item_ptr
		       FROM (SELECT (string_to_array(version(), $31))[$32] AS v) AS foo
			) AS constants
			GROUP BY 1,2,3,4,5,6,7
		) AS foo
	) AS rs
	JOIN pg_class cc ON cc.relname = rs.tablename AND cc.relkind = $33
	JOIN pg_namespace nn ON cc.relnamespace = nn.oid
		AND nn.nspname = rs.schemaname
) AS sml",4,36.923892,5.614563,13.467089,9.230973,3.5135478515036627,0,8438,266,0,174,0,0,0,0,0,0,0,0
16384,16385,-8474462854878793032,"select slev($1,$2,$3)",7511821,102112767.266077,0.46368,58746.780088,13.59361029317459,106.12277308986005,7511821,7797001031,1568315,558377,1073487,0,0,0,0,0,0,0,0
10,16385,-1368367109486112334,"COPY (SELECT oid, datname, pg_database_size(oid) AS size, pg_size_pretty(pg_database_size(oid)) AS size_pretty FROM pg_database ORDER BY datname) TO stdout WITH CSV HEADER",1,5.632954,5.632954,5.632954,5.632954,0,4,161,7,0,0,0,0,0,0,0,0,0,0
10,16385,5871932529255942364,"/* New stuff in 1.2 begins here */

CREATE FUNCTION pgstattuple(IN reloid regclass,
    OUT table_len BIGINT,		-- physical table length in bytes
    OUT tuple_count BIGINT,		-- number of live tuples
    OUT tuple_len BIGINT,		-- total tuples length in bytes
    OUT tuple_percent FLOAT8,		-- live tuples in %
    OUT dead_tuple_count BIGINT,	-- number of dead tuples
    OUT dead_tuple_len BIGINT,		-- total dead tuples length in bytes
    OUT dead_tuple_percent FLOAT8,	-- dead tuples in %
    OUT free_space BIGINT,		-- free space in bytes
    OUT free_percent FLOAT8)		-- free space in %
AS '$libdir/pgstattuple', 'pgstattuplebyid'
LANGUAGE C STRICT PARALLEL SAFE",1,0.078445,0.078445,0.078445,0.078445,0,0,68,1,1,0,0,0,0,0,0,0,0,0
16384,16385,6036219744207163361,"UPDATE orders SET o_carrier_id = d_o_carrier_id
WHERE o_id = d_no_o_id AND o_d_id = d_d_id AND
o_w_id = d_w_id",75135580,3505675.2866977076,0.0049250000000000006,37044.504345999994,0.04665799194863837,6.856632476433093,75135580,593964327,10955353,13977931,8090771,0,0,0,0,0,0,0,0
10,13433,2296680990060135499,"SELECT spcname AS tablespace_name, pg_catalog.pg_tablespace_size(oid) / $1 AS tablespace_size_mb FROM pg_catalog.pg_tablespace",5,16.708899,2.5639149999999997,5.189591,3.3417798000000003,0.9610774051944829,10,5,0,0,0,0,0,0,0,0,0,0,0
10,13433,-7240925700928404466,"SELECT usename, usesuper, valuntil, useconfig, now() as capture_time FROM pg_catalog.pg_user",5,0.16303299999999998,0.028683999999999998,0.037409,0.0326066,0.0031951782798460555,10,25,0,0,0,0,0,0,0,0,0,0,0
10,16385,-881659611999927945,"/* New stuff in 1.2 begins here */

CREATE OR REPLACE FUNCTION pgstattuple(IN reloid regclass,
    OUT table_len BIGINT,		-- physical table length in bytes
    OUT tuple_count BIGINT,		-- number of live tuples
    OUT tuple_len BIGINT,		-- total tuples length in bytes
    OUT tuple_percent FLOAT8,		-- live tuples in %
    OUT dead_tuple_count BIGINT,	-- number of dead tuples
    OUT dead_tuple_len BIGINT,		-- total dead tuples length in bytes
    OUT dead_tuple_percent FLOAT8,	-- dead tuples in %
    OUT free_space BIGINT,		-- free space in bytes
    OUT free_percent FLOAT8)		-- free space in %
AS '$libdir/pgstattuple', 'pgstattuplebyid_v1_5'
LANGUAGE C STRICT PARALLEL SAFE",1,0.073026,0.073026,0.073026,0.073026,0,0,63,0,0,0,0,0,0,0,0,0,0,0
10,13433,-7633766044836245533,SELECT setting from pg_catalog.pg_settings where name = $1,20,15.739977,0.531317,1.244961,0.78699885,0.1986891181512654,20,0,0,0,0,0,0,0,0,0,0,0,0
10,13433,8316398688943518660,SHOW log_line_prefix,5,0.013968000000000001,0.00086,0.007615,0.0027936000000000002,0.0024572735785825723,0,0,0,0,0,0,0,0,0,0,0,0,0
10,16385,-6209476769686484145,"/* New stuff in 1.3 begins here */

CREATE FUNCTION pgstattuple_approx(IN reloid regclass,
    OUT table_len BIGINT,               -- physical table length in bytes
    OUT scanned_percent FLOAT8,         -- what percentage of the table's pages was scanned
    OUT approx_tuple_count BIGINT,      -- estimated number of live tuples
    OUT approx_tuple_len BIGINT,        -- estimated total length in bytes of live tuples
    OUT approx_tuple_percent FLOAT8,    -- live tuples in % (based on estimate)
    OUT dead_tuple_count BIGINT,        -- exact number of dead tuples
    OUT dead_tuple_len BIGINT,          -- exact total length in bytes of dead tuples
    OUT dead_tuple_percent FLOAT8,      -- dead tuples in % (based on estimate)
    OUT approx_free_space BIGINT,       -- estimated free space in bytes
    OUT approx_free_percent FLOAT8)     -- free space in % (based on estimate)
AS '$libdir/pgstattuple', 'pgstattuple_approx'
LANGUAGE C STRICT PARALLEL SAFE",1,0.091978,0.091978,0.091978,0.091978,0,0,71,1,1,0,0,0,0,0,0,0,0,0
10,13433,3980337565283546250,"SELECT n.nspname AS schema_name, c.relname AS index_name, pg_relation_size(c.oid) / $1 AS index_size_mb FROM pg_class c, pg_namespace n WHERE c.relnamespace = n.oid AND c.relkind = $2",4,15.979509,3.517834,4.472943,3.9948772499999996,0.41493773227038233,624,4327,53,0,38,0,0,0,0,0,0,0,0
16384,16385,7734250700467206409,"select delivery($1,$2)",7513558,347152997.48491335,1.385077,64208.601305000004,46.20354264715415,284.86664998243447,7513558,6011336689,155702766,164741243,115240135,0,0,0,0,0,0,0,0
16384,16385,-3735569893645297314,"UPDATE customer SET c_balance = p_c_balance
WHERE c_w_id = p_c_w_id AND c_d_id = p_c_d_id AND
c_id = p_c_id",39903937,2530304.162758761,0.000684,26015.102806000003,0.06340988766996455,5.235059413191154,35303555,245813328,5912973,27407385,4468307,0,0,0,0,0,0,0,0
10,13433,7895966737858895766,SELECT $1,5,0.013090999999999998,0.0022359999999999997,0.003229,0.0026181999999999998,0.00037263354653063665,5,0,0,0,0,0,0,0,0,0,0,0,0
10,16385,2714885131882449453,"SELECT
	schemaname AS schema_name, tablename AS table_name,
	sml.relpages AS estimated_pages, target_pages,
	ROUND(CASE WHEN target_pages = $1 THEN $2
			   ELSE sml.relpages/target_pages::numeric END,$3)
		AS estimated_bloat_multiple,
	CASE WHEN relpages < target_pages
		 THEN $4 ELSE relpages::bigint - target_pages END
		AS estimated_pages_wasted,
	estimated_bytes_per_tuple
FROM (
	SELECT
		schemaname, tablename, cc.relpages, block_size,
		CEIL(cc.reltuples::float /
			CASE WHEN (block_size-page_header) / estimated_bytes_per_tuple = $5
				 THEN $6
				 ELSE ((block_size - page_header) / estimated_bytes_per_tuple)
				 END) AS target_pages,
		estimated_bytes_per_tuple
	 FROM (
		SELECT
			max_align, block_size, schemaname, tablename, page_header,
			(datawidth + max_align
				- CASE WHEN datawidth % max_align = $7 THEN max_align
						ELSE datawidth % max_align END
				+ tuple_header + max_align
				- CASE WHEN tuple_header % max_align = $8 THEN max_align
						ELSE tuple_header % max_align END
				+ (max_null_frac * (null_bitmap_size + max_align -
					    CASE WHEN null_bitmap_size % max_align = $9
					    THEN max_align
					    ELSE null_bitmap_size % max_align END))
				+ item_ptr)::bigint
				AS estimated_bytes_per_tuple
		FROM (
			SELECT
				schemaname, tablename, tuple_header, page_header, item_ptr,
				max_align, block_size,
				CEIL(SUM(($10 - null_frac) * avg_width))::bigint AS datawidth,
				MAX(null_frac) AS max_null_frac,
				(
					SELECT COALESCE(count(*)/$11, $12)
					FROM pg_stats s2
					WHERE null_frac <> $13 AND s2.schemaname = s.schemaname AND
						s2.tablename = s.tablename
				) AS null_bitmap_size
			FROM pg_stats s, (
		       SELECT
		         current_setting($14)::integer AS block_size,
		         CASE WHEN substring(v,$15,$16) IN ($17,$18,$19)
					  THEN $20 ELSE $21 END AS tuple_header,
		         CASE WHEN substring(v,$22,$23) IN ($24,$25,$26)
					  THEN $27 ELSE $28 END::integer AS page_header,
		         $29 AS max_align,
				 $30 AS item_ptr
		       FROM (SELECT (string_to_array(version(), $31))[$32] AS v) AS foo
			) AS constants
			GROUP BY 1,2,3,4,5,6,7
		) AS foo
	) AS rs
	JOIN pg_class cc ON cc.relname = rs.tablename AND cc.relkind != $33
	JOIN pg_namespace nn ON cc.relnamespace = nn.oid
		AND nn.nspname = rs.schemaname
) AS sml",4,48.404242,7.663766,15.027995,12.1010605,2.8645624310269895,196,10980,319,0,228,0,0,0,0,0,0,0,0
16384,16385,-6429350979433877752,"SELECT c_balance, c_first, c_middle, c_last
                                                      FROM customer
WHERE c_id = os_c_id AND c_d_id = os_d_id AND c_w_id = os_w_id",3005376,1374645.6762710018,0.007968000000000001,26529.162457,0.457395572557651,29.26310597262989,3005376,12647307,2447110,511614,1704661,0,0,0,0,0,0,0,0
10,16385,-7465348360820981658,"/* contrib/pgstattuple/pgstattuple--1.4.sql */

-- complain if script is sourced in psql, rather than via CREATE EXTENSION


CREATE FUNCTION pgstattuple(IN relname text,
    OUT table_len BIGINT,		-- physical table length in bytes
    OUT tuple_count BIGINT,		-- number of live tuples
    OUT tuple_len BIGINT,		-- total tuples length in bytes
    OUT tuple_percent FLOAT8,		-- live tuples in %
    OUT dead_tuple_count BIGINT,	-- number of dead tuples
    OUT dead_tuple_len BIGINT,		-- total dead tuples length in bytes
    OUT dead_tuple_percent FLOAT8,	-- dead tuples in %
    OUT free_space BIGINT,		-- free space in bytes
    OUT free_percent FLOAT8)		-- free space in %
AS '$libdir/pgstattuple', 'pgstattuple'
LANGUAGE C STRICT PARALLEL SAFE",1,4.251798,4.251798,4.251798,4.251798,0,0,94,22,8,0,0,0,0,0,0,0,0,0
16384,16385,-2587373995957382718,"UPDATE district SET d_ytd = d_ytd + p_h_amount
WHERE d_w_id = p_w_id AND d_id = p_d_id",75144078,30995475.391404115,0.0068260000000000005,51898.71802,0.4124806134609582,29.361035159193097,75144078,715643932,270284,271777,201368,0,0,0,0,0,0,0,0
16384,16385,8512556722248587417,"INSERT INTO ORDERS (o_id, o_d_id, o_w_id, o_c_id, o_entry_d, o_ol_cnt, o_all_local) VALUES (o_id, no_d_id, no_w_id, no_c_id, current_timestamp, no_o_ol_cnt, no_o_all_local)",75143694,12969641.413405573,0.010472,13192.8441,0.17259786847059716,7.876864108105378,75143694,630784867,61065707,63053966,44686745,0,0,0,0,0,0,0,0
10,13433,8695233458571796599,"SELECT pg_catalog.version() AS version_string, ((select setting from pg_settings where name = $1)::decimal * (select setting from pg_settings where name = $2)::decimal / ($3 * $4))::numeric AS shared_buffers_mb, ((select setting from pg_settings where name = $5)::decimal * (select setting from pg_settings where name = $6)::decimal / ($7 * $8))::numeric AS temp_buffers_mb, ((select setting from pg_settings where name = $9)::decimal * (select setting from pg_settings where name = $10)::decimal / ($11 * $12))::numeric AS effective_cache_size_mb, ((select setting from pg_settings where name = $13)::decimal * (select setting from pg_settings where name = $14)::decimal / ($15 * $16))::numeric AS segment_size_mb, ((select setting from pg_settings where name = $17)::decimal * (select setting from pg_settings where name = $18)::decimal / ($19 * $20))::numeric AS wal_segment_size_mb, ((select setting from pg_settings where name = $21)::decimal * (select setting from pg_settings where name = $22)::decimal / ($23 * $24))::numeric AS wal_buffers_mb, (SELECT pg_postmaster_start_time())::timestamptz AS server_start_time",21,182.47080700000004,6.925642,10.588556,8.689086047619048,1.1120113170259796,21,0,0,0,0,0,0,0,0,0,0,0,0
10,13433,-3069291828911369550,"SELECT checkpoints_timed, checkpoints_req, buffers_clean, buffers_checkpoint, maxwritten_clean, buffers_backend, buffers_alloc FROM pg_catalog.pg_stat_bgwriter",23,9016.567804,10.200779,5225.002987,392.0246871304347,1260.3500058732677,23,0,0,0,0,0,0,0,0,0,0,0,0
16384,16385,-2774539774756357613,"SELECT ol_i_id, ol_supply_w_id, ol_quantity, ol_amount, ol_delivery_d, out_os_c_id, out_os_c_last, os_c_first, os_c_middle, os_c_balance, os_o_id, os_entdate, os_o_carrier_id	
FROM order_line
WHERE ol_o_id = os_o_id AND ol_d_id = os_d_id AND ol_w_id = os_w_id",7512183,19824711.730990063,0.00045200000000000004,55324.994722,2.6390080927194344,138.33995580422445,0,35725785,17696921,6642292,12273877,0,0,0,0,0,0,0,0
10,13433,-1893876962091545561,"SELECT c.relname AS index_name, r.relname AS table_name, i.indkey AS ind_keys FROM pg_catalog.pg_class c, pg_catalog.pg_namespace n, pg_catalog.pg_index i, pg_catalog.pg_class r WHERE c.relkind = $2 AND c.relnamespace = n.oid AND n.nspname = $1 AND c.oid = i.indexrelid AND r.oid = i.indrelid",75,48.089493,0.14796800000000002,2.751703,0.64119324,0.43558620778473806,3159,16654,416,0,287,0,0,0,0,0,0,0,0
16384,16385,4537153651744612746,select sum(xact_commit + xact_rollback) from pg_stat_database,2,20.727901,10.290011,10.43789,10.3639505,0.07393949999999982,2,2,0,0,0,0,0,0,0,0,0,0,0
16384,16385,3774428674426749831,"SELECT s_quantity, s_data, s_dist_01, s_dist_02, s_dist_03, s_dist_04, s_dist_05, s_dist_06, s_dist_07, s_dist_08, s_dist_09, s_dist_10
                                                                                                                                                                          FROM stock WHERE s_i_id = no_ol_i_id AND s_w_id = no_ol_supply_w_id",751428664,790080353.4671843,0.0024200000000000003,69020.406312,1.0514376032211359,42.88609905428542,750670652,3193105235,577995717,290315355,402801160,0,0,0,0,0,0,0,0
10,16385,1594136720473630204,REVOKE EXECUTE ON FUNCTION pgstattuple_approx(regclass) FROM PUBLIC,1,0.019169,0.019169,0.019169,0.019169,0,0,8,0,0,0,0,0,0,0,0,0,0,0
10,16385,5710526357416411007,GRANT EXECUTE ON FUNCTION pgstattuple(regclass) TO pg_stat_scan_tables,1,0.025645,0.025645,0.025645,0.025645,0,0,17,0,0,0,0,0,0,0,0,0,0,0
10,16385,8395332438900674856,GRANT EXECUTE ON FUNCTION pg_relpages(text) TO pg_stat_scan_tables,1,0.021179,0.021179,0.021179,0.021179,0,0,17,0,0,0,0,0,0,0,0,0,0,0
10,16385,6425910584067443383,COPY (SELECT * FROM pg_stat_database) TO stdout WITH CSV HEADER,2,21.546433,10.433779000000001,11.112654,10.7732165,0.33943749999999895,10,2,0,0,0,0,0,0,0,0,0,0,0
10,16385,-9221933125350291022,"CREATE OR REPLACE FUNCTION pgstatindex(IN relname text,
    OUT version INT,
    OUT tree_level INT,
    OUT index_size BIGINT,
    OUT root_block_no BIGINT,
    OUT internal_pages BIGINT,
    OUT leaf_pages BIGINT,
    OUT empty_pages BIGINT,
    OUT deleted_pages BIGINT,
    OUT avg_leaf_density FLOAT8,
    OUT leaf_fragmentation FLOAT8)
AS '$libdir/pgstattuple', 'pgstatindex_v1_5'
LANGUAGE C STRICT PARALLEL SAFE",1,0.084486,0.084486,0.084486,0.084486,0,0,69,0,0,0,0,0,0,0,0,0,0,0
10,13433,-5547292198708549587,SHOW log_statement,5,0.009042,0.000663,0.003173,0.0018084,0.000876744569415745,0,0,0,0,0,0,0,0,0,0,0,0,0
16384,16385,387629091158505087,"UPDATE stock SET s_quantity = no_s_quantity
WHERE s_i_id = no_ol_i_id
AND s_w_id = no_ol_supply_w_id",751428664,26395599.35581378,0.0020889999999999997,37448.925515,0.03512721915002877,3.259731829404476,750670652,4645352908,5973387,281948424,5420092,0,0,0,0,0,0,0,0
10,16385,5353842540958846297,"CREATE OR REPLACE FUNCTION pg_relpages(IN relname regclass)
RETURNS BIGINT
AS '$libdir/pgstattuple', 'pg_relpagesbyid_v1_5'
LANGUAGE C STRICT PARALLEL SAFE",1,0.040042,0.040042,0.040042,0.040042,0,0,36,0,0,0,0,0,0,0,0,0,0,0
10,13433,6321497457064599433,SHOW logging_collector,5,0.007597,0.000974,0.002695,0.0015194,0.0006579320937604426,0,0,0,0,0,0,0,0,0,0,0,0,0
10,16385,7239828280932003960,"COPY (SELECT oid, relname, relkind, pg_table_size(oid) AS size, pg_size_pretty(pg_table_size(oid)) AS size_pretty FROM pg_class WHERE relnamespace = (SELECT oid FROM pg_namespace WHERE nspname = 'public') AND relkind IN ('r', 'i') ORDER BY relname) TO stdout WITH CSV HEADER",1,3.049612,3.049612,3.049612,3.049612,0,19,513,15,0,0,0,0,0,0,0,0,0,0
10,13433,6575380484479358805,"SELECT c.relname AS view_name, c.relkind AS view_type, c.relispopulated AS ispopulated, spc.spcname AS tablespace_name, pg_get_userbyid(c.relowner) AS view_owner, pg_get_viewdef(c.oid, $2) AS definition FROM pg_catalog.pg_class c LEFT OUTER JOIN pg_tablespace spc on spc.oid=c.reltablespace LEFT OUTER JOIN pg_namespace n on n.oid=c.relnamespace WHERE (c.relkind = $3 OR c.relkind = $4) AND c.relnamespace = n.oid AND n.nspname = $1",81,2103.447971,0.111648,103.569943,25.968493469135804,20.582977063525046,3348,132231,7197,0,4920,0,0,0,0,0,0,0,0
10,13433,-4015976671128116915,SELECT (setting::int/($1*$2))::int FROM pg_settings WHERE name = $3,5,3.0604179999999994,0.5390199999999999,0.7294149999999999,0.6120836,0.06555466957768911,5,0,0,0,0,0,0,0,0,0,0,0,0
10,16385,1570458032255627950,"SELECT	s.nspname AS schema_name, $1 AS package_name, f.proname AS function_name,
		$2::""char"" AS function_type, f.prorettype::regtype AS return_type,
		f.proargtypes::regtype[] AS arg_types,
		fs.calls AS call_count, fs.total_time, fs.self_time
FROM	pg_catalog.pg_namespace AS s				-- schema
JOIN	pg_catalog.pg_proc AS f						-- function
ON		f.pronamespace = s.oid
JOIN	pg_catalog.pg_stat_user_functions AS fs		-- Func. stats
ON		fs.funcid = f.oid",5,68.375772,12.423457,16.323445999999997,13.6751544,1.3614359492454415,0,37,373,0,258,0,0,0,0,0,0,0,0
10,16385,7766681659969259930,GRANT EXECUTE ON FUNCTION pgstattuple_approx(regclass) TO pg_stat_scan_tables,1,0.019174,0.019174,0.019174,0.019174,0,0,14,0,0,0,0,0,0,0,0,0,0,0
10,16385,1783548336943659886,"COPY (SELECT oid, datname, pg_database_size(oid) AS size, pg_size_pretty(pg_database_size(oid)) AS size_pretty FROM pg_database ORDER BY datname) TO stdout WITH CSV HEADER",1,4.997773,4.997773,4.997773,4.997773,0,4,4,0,0,0,0,0,0,0,0,0,0,0
10,16385,8565171400252749021,COPY (SELECT sum(size) AS wal_size FROM pg_ls_waldir()) TO stdout WITH CSV HEADER,1,5.620113,5.620113,5.620113,5.620113,0,1,44,3,0,0,0,0,0,0,0,0,0,0
10,16385,-2538216402246000971,"SELECT i.schemaname AS schema_name, i.indexrelname AS index_name, s.idx_scan, s.idx_tup_read, s.idx_tup_fetch, i.idx_blks_read, i.idx_blks_hit FROM pg_stat_all_indexes s JOIN pg_statio_all_indexes i ON s.indexrelid = i.indexrelid",4,52.716177,12.290134,13.829918,13.17904425,0.6519632999028299,668,8088,12,0,11,0,0,0,0,0,0,0,0
10,13433,-8153513440251185629,SHOW debug_print_plan,5,0.008716999999999999,0.000725,0.003352,0.0017434,0.0010070456990623612,0,0,0,0,0,0,0,0,0,0,0,0,0
10,16385,-4406722852627213537,"SELECT
	schemaname AS schema_name, tablename AS view_name,
	sml.relpages AS estimated_pages, target_pages,
	ROUND(CASE WHEN target_pages = $1 THEN $2
			   ELSE sml.relpages/target_pages::numeric END,$3)
		AS estimated_bloat_multiple,
	CASE WHEN relpages < target_pages
		 THEN $4 ELSE relpages::bigint - target_pages END
		AS estimated_pages_wasted,
	estimated_bytes_per_tuple
FROM (
	SELECT
		schemaname, tablename, cc.relpages, block_size,
		CEIL(cc.reltuples::float /
			CASE WHEN (block_size-page_header) / estimated_bytes_per_tuple = $5
				 THEN $6
				 ELSE ((block_size - page_header) / estimated_bytes_per_tuple)
				 END) AS target_pages,
		estimated_bytes_per_tuple
	 FROM (
		SELECT
			max_align, block_size, schemaname, tablename, page_header,
			(datawidth + max_align
				- CASE WHEN datawidth % max_align = $7 THEN max_align
						ELSE datawidth % max_align END
				+ tuple_header + max_align
				- CASE WHEN tuple_header % max_align = $8 THEN max_align
						ELSE tuple_header % max_align END
				+ (max_null_frac * (null_bitmap_size + max_align -
					    CASE WHEN null_bitmap_size % max_align = $9
					    THEN max_align
					    ELSE null_bitmap_size % max_align END))
				+ item_ptr)::bigint
				AS estimated_bytes_per_tuple
		FROM (
			SELECT
				schemaname, tablename, tuple_header, page_header, item_ptr,
				max_align, block_size,
				CEIL(SUM(($10 - null_frac) * avg_width))::bigint AS datawidth,
				MAX(null_frac) AS max_null_frac,
				(
					SELECT COALESCE(count(*)/$11, $12)
					FROM pg_stats s2
					WHERE null_frac <> $13 AND s2.schemaname = s.schemaname AND
						s2.tablename = s.tablename
				) AS null_bitmap_size
			FROM pg_stats s, (
		       SELECT
		         current_setting($14)::integer AS block_size,
		         CASE WHEN substring(v,$15,$16) IN ($17,$18,$19)
					  THEN $20 ELSE $21 END AS tuple_header,
		         CASE WHEN substring(v,$22,$23) IN ($24,$25,$26)
					  THEN $27 ELSE $28 END::integer AS page_header,
		         $29 AS max_align,
				 $30 AS item_ptr
		       FROM (SELECT (string_to_array(version(), $31))[$32] AS v) AS foo
			) AS constants
			GROUP BY 1,2,3,4,5,6,7
		) AS foo
	) AS rs
	JOIN pg_class cc ON cc.relname = rs.tablename AND cc.relkind = $33
	JOIN pg_namespace nn ON cc.relnamespace = nn.oid
		AND nn.nspname = rs.schemaname
) AS sml",4,42.486444999999996,7.067266,14.668199,10.62161125,3.311311280917755,0,10619,305,9,196,0,0,0,0,0,0,0,0
10,13433,8887676621517593594,"SELECT datname AS database_name, spcname AS tablespace_name, pg_database_size(a.oid) / $1 AS database_size_mb FROM pg_catalog.pg_database a, pg_catalog.pg_tablespace b WHERE a.dattablespace = b.oid",3,8.553982,2.321245,3.225776,2.8513273333333333,0.38532277477489224,12,15,0,0,0,0,0,0,0,0,0,0,0
16384,16385,-9037368486022885083,"SELECT w_street_1, w_street_2, w_city, w_state, w_zip, w_name
                                                                        FROM warehouse
WHERE w_id = p_w_id",75144078,4406269.698059741,0.002748,270.773776,0.05863761743219041,0.2747849656800602,75144078,455279060,5,340,3,0,0,0,0,0,0,0,0
10,16385,4025368465343339790,REVOKE EXECUTE ON FUNCTION pgstatginindex(regclass) FROM PUBLIC,1,0.018852,0.018852,0.018852,0.018852,0,0,8,0,0,0,0,0,0,0,0,0,0,0
16384,16385,-1074176117266427516,"SELECT c_first, c_middle, c_id,
c_street_1, c_street_2, c_city, c_state, c_zip,
c_phone, c_credit, c_credit_lim,
c_discount, c_balance, c_since
FROM customer
WHERE c_w_id = p_c_w_id AND c_d_id = p_c_d_id AND c_last = p_c_last
ORDER BY c_first",45090352,4005107.959802293,0.005144,23304.095812,0.08882405619281646,5.880076747239041,40489970,493340660,17573656,415,12150211,0,0,0,0,0,0,0,0
10,13433,3118381099387576881,"SELECT blocked_activity.pid                     AS blocked_pid,
		blocked_activity.usename                 AS blocked_user,
		blocked.mode                             AS locktype,
		blocking_activity.pid                    AS blocking_pid,
		blocking_activity.usename                AS blocking_user,
		blocking_activity.datname                AS database_name,
		now() - blocking_activity.query_start    AS blocking_duration,
		now() - blocked_activity.query_start     AS blocked_duration,
		blocking_activity.query_start            AS blocking_query_start,
		blocked_activity.query_start             AS blocked_query_start,
		blocked_activity.query                   AS blocked_statement,
		blocking_activity.query                  AS current_statement_in_blocking_process,
		blocked_activity.application_name        AS blocked_application,
		blocking_activity.application_name       AS blocking_application
	FROM pg_catalog.pg_stat_activity AS blocked_activity
	JOIN pg_catalog.pg_stat_activity AS blocking_activity ON blocking_activity.pid = ANY (pg_blocking_pids(blocked_activity.pid))
	JOIN pg_catalog.pg_locks AS blocked ON blocked.pid = blocked_activity.pid
	WHERE NOT blocked.granted",27,26769.575029,1.225474,2229.956358,991.4657418148149,598.0848448742352,224,234,0,0,0,0,0,0,0,0,0,0,0
10,16385,678564265944054083,"SELECT
	$2 AS package_name, f.proname AS function_name, $3::""char"" AS function_type,
	f.prorettype::regtype AS return_type, pg_get_function_identity_arguments(f.oid) AS arg_types,
	f.probin AS function_binary, e.extname::text AS extension_name
FROM
	pg_catalog.pg_namespace AS s
	JOIN	pg_catalog.pg_proc AS f
		ON f.pronamespace = s.oid
	LEFT JOIN pg_catalog.pg_depend AS d
		ON (f.oid = d.objid AND d.classid = $4::regclass AND d.refclassid = $5::regclass)
	LEFT JOIN pg_catalog.pg_extension AS e
		ON (d.refobjid = e.oid)
WHERE
	s.nspname = $1",81,810.1481789999999,0.911702,35.478747999999996,10.001829370370373,8.825258137598802,80919,257254,6607,0,4467,0,0,0,0,0,0,0,0
10,13433,-1860561219988219235,"SELECT name, setting, unit FROM pg_catalog.pg_settings",23,22.552935,0.706688,1.234022,0.9805623913043479,0.14984398164489193,7383,0,0,0,0,0,0,0,0,0,0,0,0
16384,16385,5616180274698321996,set CLIENT_MIN_MESSAGES TO 'ERROR',501,1.9041709999999994,0.001495,0.015808,0.003800740518962076,0.00177078818015509,0,0,0,0,0,0,0,0,0,0,0,0,0
10,16385,-2485742924531423326,"SELECT c.relname AS sequence_name FROM pg_catalog.pg_class c, pg_catalog.pg_namespace n WHERE c.relkind = $2 AND c.relnamespace = n.oid AND n.nspname = $1",81,24.75019500000001,0.087228,0.779056,0.30555796296296295,0.1306884516347089,0,787,266,0,167,0,0,0,0,0,0,0,0
10,13433,-4414173500990894660,SHOW client_min_messages,5,0.007462,0.000899,0.002534,0.0014924,0.0007030296153079186,0,0,0,0,0,0,0,0,0,0,0,0,0
10,16385,4390283800491518311,SELECT version(),571,6.095357000000001,0.006026,0.023891,0.010674880910683027,0.002327567506475649,571,0,0,0,0,0,0,0,0,0,0,0,0
10,16385,-3845857942904937752,GRANT EXECUTE ON FUNCTION pgstatindex(text) TO pg_stat_scan_tables,1,0.022378,0.022378,0.022378,0.022378,0,0,15,0,0,0,0,0,0,0,0,0,0,0
10,13433,4390283800491518311,SELECT version(),825,9.009066000000002,0.00618,0.234853,0.010920079999999997,0.008286928114604974,825,0,0,0,0,0,0,0,0,0,0,0,0
16384,16385,431293040050433973,set client_encoding to 'UTF8',501,5.975740000000006,0.006478,0.030237,0.011927624750499001,0.0036264055361584745,0,0,0,0,0,0,0,0,0,0,0,0,0
10,16385,-6767559790556280863,COPY (SELECT * FROM pg_stat_all_tables) TO stdout WITH CSV HEADER,2,2.501965,0.9513870000000001,1.550578,1.2509825,0.29959549999999996,232,34,2,0,0,0,0,0,0,0,0,0,0
10,13433,2650940218892349018,SHOW debug_print_parse,5,0.009613,0.001462,0.002285,0.0019225999999999998,0.0003352656260340446,0,0,0,0,0,0,0,0,0,0,0,0,0
10,13433,-2994652966809217000,"SELECT COALESCE(sum($1), $2) AS number_of_wal_files FROM pg_ls_waldir() AS d (file) WHERE file ~ $3",23,1684.3169090000001,11.967968,104.49829700000001,73.23116995652174,25.67172539937893,23,0,0,0,0,0,0,0,0,0,0,0,0
10,16385,-6566320076099828533,"/* New stuff in 1.5 begins here */

CREATE OR REPLACE FUNCTION pgstathashindex(IN relname regclass,
	OUT version INTEGER,
	OUT bucket_pages BIGINT,
	OUT overflow_pages BIGINT,
	OUT bitmap_pages BIGINT,
	OUT unused_pages BIGINT,
	OUT live_items BIGINT,
	OUT dead_items BIGINT,
	OUT free_percent FLOAT8)
AS '$libdir/pgstattuple', 'pgstathashindex'
LANGUAGE C STRICT PARALLEL SAFE",1,0.06198,0.06198,0.06198,0.06198,0,0,63,0,0,0,0,0,0,0,0,0,0,0
10,13433,338292482059956270,SHOW log_min_error_statement,5,0.00898,0.000974,0.003228,0.001796,0.0009083944077326765,0,0,0,0,0,0,0,0,0,0,0,0,0
10,16385,-8026329288367160423,"SELECT c.relname AS table_name, array_length(array_agg(i.indexrelid), $2) > $3 AS has_primary_key                                                                                                                    FROM
    (SELECT oid AS coid, * FROM pg_catalog.pg_class c WHERE relkind IN ($4, $5)) c
    JOIN pg_catalog.pg_namespace n ON (c.relnamespace = n.oid AND n.nspname = $1)
    LEFT JOIN pg_catalog.pg_index i ON (i.indexrelid = c.coid AND i.indisprimary)
GROUP BY c.relname",79,32.089796000000014,0.14017000000000002,1.3122369999999999,0.4061999493670887,0.18954569125681217,1980,3332,228,0,159,0,0,0,0,0,0,0,0
10,16385,-2028750283664882377,"/* New stuff in 1.3 begins here */

CREATE OR REPLACE FUNCTION pgstattuple_approx(IN reloid regclass,
    OUT table_len BIGINT,               -- physical table length in bytes
    OUT scanned_percent FLOAT8,         -- what percentage of the table's pages was scanned
    OUT approx_tuple_count BIGINT,      -- estimated number of live tuples
    OUT approx_tuple_len BIGINT,        -- estimated total length in bytes of live tuples
    OUT approx_tuple_percent FLOAT8,    -- live tuples in % (based on estimate)
    OUT dead_tuple_count BIGINT,        -- exact number of dead tuples
    OUT dead_tuple_len BIGINT,          -- exact total length in bytes of dead tuples
    OUT dead_tuple_percent FLOAT8,      -- dead tuples in % (based on estimate)
    OUT approx_free_space BIGINT,       -- estimated free space in bytes
    OUT approx_free_percent FLOAT8)     -- free space in % (based on estimate)
AS '$libdir/pgstattuple', 'pgstattuple_approx_v1_5'
LANGUAGE C STRICT PARALLEL SAFE",1,0.071208,0.071208,0.071208,0.071208,0,0,69,0,0,0,0,0,0,0,0,0,0,0
10,16385,-9200501687501372896,"/* New stuff in 1.1 begins here */

CREATE OR REPLACE FUNCTION pgstatginindex(IN relname regclass,
    OUT version INT4,
    OUT pending_pages INT4,
    OUT pending_tuples BIGINT)
AS '$libdir/pgstattuple', 'pgstatginindex_v1_5'
LANGUAGE C STRICT PARALLEL SAFE",1,0.143791,0.143791,0.143791,0.143791,0,0,49,1,3,1,0,0,0,0,0,0,0,0
10,13433,1498014034136010274,"SELECT datname AS database_name, datallowconn AS connections_allowed, pg_encoding_to_char(encoding) AS encoding, CASE WHEN oid > datlastsysoid THEN $1 ELSE $2 END AS system_database FROM pg_catalog.pg_database WHERE NOT datistemplate AND datallowconn",26,0.4698609999999999,0.012837,0.034175,0.018071576923076926,0.004868267518193535,52,26,0,0,0,0,0,0,0,0,0,0,0
10,16385,-583053980741995473,GRANT EXECUTE ON FUNCTION pgstattuple(text) TO pg_stat_scan_tables,1,0.061022,0.061022,0.061022,0.061022,0,0,27,1,1,0,0,0,0,0,0,0,0,0
10,13433,-2485742924531423326,"SELECT c.relname AS sequence_name FROM pg_catalog.pg_class c, pg_catalog.pg_namespace n WHERE c.relkind = $2 AND c.relnamespace = n.oid AND n.nspname = $1",81,26.182895999999992,0.083831,1.9771469999999998,0.32324562962962966,0.23482466735819618,0,833,220,0,137,0,0,0,0,0,0,0,0
10,13433,-2286245184544735808,"SELECT n.nspname AS schema_name, c.relname AS view_name, pg_relation_size(c.oid) / $1 AS mview_size_mb, pg_indexes_size(c.oid) / $2 AS size_of_indexes_mb, pg_total_relation_size(c.oid) / $3 AS total_mview_size_mb FROM pg_class c, pg_namespace n WHERE c.relnamespace = n.oid AND c.relkind = $4",4,1.471337,0.31777,0.421073,0.36783425,0.036638763532459734,0,20,32,0,26,0,0,0,0,0,0,0,0
10,13433,3087330719923255368,SELECT * FROM pg_catalog.pg_rewrite WHERE ev_class = $1 AND rulename = $2,3348,58.085098999999985,0.0022180000000000004,2.908759,0.01734919324970133,0.11454749374760334,3348,6280,416,0,280,0,0,0,0,0,0,0,0
10,13433,8587080389022159474,SHOW log_truncate_on_rotation,5,0.010317999999999999,0.001538,0.002749,0.0020636,0.0004689411903426697,0,0,0,0,0,0,0,0,0,0,0,0,0
16384,16385,-8052465060012368764,"SELECT c_balance, c_first, c_middle, c_id
FROM customer
WHERE c_last = os_c_last AND c_d_id = os_d_id AND c_w_id = os_w_id
ORDER BY c_first",4506807,270235.14420302643,0.005476,47.835744,0.059961552425695126,0.23383633373925394,4047376,50845639,224267,59,153340,0,0,0,0,0,0,0,0
16384,16385,-6988539292928998990,select max(w_id) from warehouse,500,44.32467300000004,0.058023000000000005,0.212616,0.08864934599999998,0.01936806697546981,500,2004,1,0,0,0,0,0,0,0,0,0,0
10,16385,9123510028664027085,CREATE EXTENSION IF NOT EXISTS pg_prewarm,1,1.022822,1.022822,1.022822,1.022822,0,0,23,0,0,0,0,0,0,0,0,0,0,0
10,16385,3938236843315395282,COPY (SELECT * FROM pg_settings) TO stdout WITH CSV HEADER,1,1.326081,1.326081,1.326081,1.326081,0,321,0,0,0,0,0,0,0,0,0,0,0,0
10,16385,8862327702913361285,"/* contrib/pgstattuple/pgstattuple--1.4--1.5.sql */

-- complain if script is sourced in psql, rather than via ALTER EXTENSION


CREATE OR REPLACE FUNCTION pgstattuple(IN relname text,
    OUT table_len BIGINT,		-- physical table length in bytes
    OUT tuple_count BIGINT,		-- number of live tuples
    OUT tuple_len BIGINT,		-- total tuples length in bytes
    OUT tuple_percent FLOAT8,		-- live tuples in %
    OUT dead_tuple_count BIGINT,	-- number of dead tuples
    OUT dead_tuple_len BIGINT,		-- total dead tuples length in bytes
    OUT dead_tuple_percent FLOAT8,	-- dead tuples in %
    OUT free_space BIGINT,		-- free space in bytes
    OUT free_percent FLOAT8)		-- free space in %
AS '$libdir/pgstattuple', 'pgstattuple_v1_5'
LANGUAGE C STRICT PARALLEL SAFE",1,0.11765,0.11765,0.11765,0.11765,0,0,71,0,1,0,0,0,0,0,0,0,0,0
10,16385,-8863090166992369258,COPY (SELECT * FROM pg_stat_statements) TO stdout WITH CSV HEADER,1,0.07624399999999999,0.07624399999999999,0.07624399999999999,0.07624399999999999,0,8,0,0,0,0,0,0,0,0,0,0,0,0
10,16385,8791746904918487037,"COPY (SELECT c.oid, c.relname, st.* FROM pg_class AS c, pgstatindex(c.oid::regclass) AS st WHERE c.relnamespace = (SELECT oid FROM pg_namespace WHERE nspname = 'public') AND relkind = 'i' ORDER BY relname) TO stdout WITH CSV HEADER",1,9308.305658,9308.305658,9308.305658,9308.305658,0,10,695,4047703,0,0,0,0,0,0,0,0,0,0
10,13433,3466096389063879580,SHOW hba_file,5,0.012321999999999998,0.002057,0.003113,0.0024644,0.0003655054582355782,0,0,0,0,0,0,0,0,0,0,0,0,0
10,16385,5885118335430618511,"COPY (SELECT c.oid, c.relname, st.* FROM pg_class AS c, pgstatindex(c.oid::regclass) AS st WHERE c.relnamespace = (SELECT oid FROM pg_namespace WHERE nspname = $1) AND relkind = $2 ORDER BY relname) TO stdout WITH CSV HEADER",1,9306.103692,9306.103692,9306.103692,9306.103692,0,10,412,4047703,0,0,0,0,0,0,0,0,0,0
10,13433,-89568869021717116,"SELECT COALESCE(sum($1), $2) AS number_of_prepared_transactions FROM pg_catalog.pg_prepared_xacts",27,0.392672,0.00981,0.037186,0.014543407407407408,0.005377895301235999,27,0,0,0,0,0,0,0,0,0,0,0,0
10,16385,-1712481118449147880,COPY (SELECT * FROM pg_stat_all_indexes) TO stdout WITH CSV HEADER,2,5.380934,2.612621,2.768313,2.690467,0.07784600000000008,334,1912,8,0,0,0,0,0,0,0,0,0,0
10,16385,3087330719923255368,SELECT * FROM pg_catalog.pg_rewrite WHERE ev_class = $1 AND rulename = $2,3375,48.41739600000011,0.0022630000000000003,2.388711,0.01434589511111112,0.07737116246648972,3375,6338,412,0,262,0,0,0,0,0,0,0,0
16384,16385,4199956106828167744,"UPDATE warehouse SET w_ytd = w_ytd + p_h_amount
WHERE w_id = p_w_id",75144078,85107089.32716173,0.012362,62163.71673,1.132585449077928,22.560297965872863,75144078,580562600,243539,251447,186796,0,0,0,0,0,0,0,0
10,13433,-7114524403290099261,SELECT nspname AS schema_name FROM pg_catalog.pg_namespace WHERE nspname = $1 OR nspname NOT LIKE $2,27,0.7525160000000001,0.008482,0.445935,0.027870962962962965,0.08200875463721405,81,27,0,0,0,0,0,0,0,0,0,0,0
10,13433,-2538216402246000971,"SELECT i.schemaname AS schema_name, i.indexrelname AS index_name, s.idx_scan, s.idx_tup_read, s.idx_tup_fetch, i.idx_blks_read, i.idx_blks_hit FROM pg_stat_all_indexes s JOIN pg_statio_all_indexes i ON s.indexrelid = i.indexrelid",4,47.880628,11.651702,12.513336,11.970157,0.32474613099003985,624,7568,4,0,2,0,0,0,0,0,0,0,0
16384,16385,-1194917419640136509,"SELECT c_first, c_middle, c_last,
c_street_1, c_street_2, c_city, c_state, c_zip,
c_phone, c_credit, c_credit_lim,
c_discount, c_balance, c_since
                                                                                                                                                                            FROM customer
WHERE c_w_id = p_c_w_id AND c_d_id = p_c_d_id AND c_id = p_c_id",30053726,14248784.831849288,0.005656,64929.906401,0.4741104258370518,34.3206303269495,30053726,122455707,28714806,5084975,20001737,0,0,0,0,0,0,0,0
10,16385,7692802627618774262,"CREATE FUNCTION pg_relpages(IN relname text)
RETURNS BIGINT
AS '$libdir/pgstattuple', 'pg_relpages'
LANGUAGE C STRICT PARALLEL SAFE",1,0.067244,0.067244,0.067244,0.067244,0,0,39,0,1,0,0,0,0,0,0,0,0,0
10,13433,-1257764248680262789,SELECT (setting::int/$1)::int FROM pg_settings WHERE name = $2,5,3.1874960000000003,0.561504,0.810308,0.6374992,0.0922457414462045,5,0,0,0,0,0,0,0,0,0,0,0,0
10,16385,-5728662229740608972,REVOKE EXECUTE ON FUNCTION pg_relpages(regclass) FROM PUBLIC,1,0.018841,0.018841,0.018841,0.018841,0,0,11,0,0,0,0,0,0,0,0,0,0,0
10,16385,-8773329865684120251,"CREATE OR REPLACE FUNCTION pgstatindex(IN relname regclass,
    OUT version INT,
    OUT tree_level INT,
    OUT index_size BIGINT,
    OUT root_block_no BIGINT,
    OUT internal_pages BIGINT,
    OUT leaf_pages BIGINT,
    OUT empty_pages BIGINT,
    OUT deleted_pages BIGINT,
    OUT avg_leaf_density FLOAT8,
    OUT leaf_fragmentation FLOAT8)
AS '$libdir/pgstattuple', 'pgstatindexbyid_v1_5'
LANGUAGE C STRICT PARALLEL SAFE",1,0.06703,0.06703,0.06703,0.06703,0,0,66,0,0,0,0,0,0,0,0,0,0,0
10,16385,4746814237094050184,"CREATE FUNCTION pg_relpages(IN relname regclass)
RETURNS BIGINT
AS '$libdir/pgstattuple', 'pg_relpagesbyid'
LANGUAGE C STRICT PARALLEL SAFE",1,0.162444,0.162444,0.162444,0.162444,0,0,40,1,3,1,0,0,0,0,0,0,0,0
10,13433,-8114006871343019987,"/* pid could be NULL for prepared transactions, and DB oid could be 0
		 * for shared relations, hence the LEFT JOIN being used below and the
		 * convoluted way of getting database OID.
		 *
		 * The side effect of this is that the locks on shared objects will
		 * appear to be taken under some database, specifically, under the
		 * database to which the backend process is connected. And if the lock
		 * on the shared object is taken by a prepared transaction, only then
		 * would we see an empty string in database_name.
		 *
		 * Note: We do not support reporting on the 'userlock' locktype; this
		 * locktype is provided by ancient contrib/userlock module.
		 * TODO: Research and implement support for this.
		 */
SELECT ROW_NUMBER() OVER (PARTITION BY l.pid) AS lockrowid,
		COALESCE(d.datname, $1)			AS database_name,
		COALESCE(l.pid::bigint, $2)		AS procpid,
		CASE
		WHEN l.locktype IN ($3, $4, $5, $6) THEN
			l.relation::text::numeric
		WHEN l.locktype = $7 THEN
			transactionid::text::numeric
		WHEN l.locktype = $8 THEN
			regexp_replace(l.virtualxid, $9, $10)::numeric
		WHEN l.locktype IN ($11, $12) THEN
			classid::text::numeric
		ELSE
			COALESCE(
				l.relation::text::numeric, transactionid::text::numeric,
				regexp_replace(l.virtualxid, $13, $14)::numeric,
				classid::text::numeric, $15
			)
		END AS objid,
		COALESCE(l.page::bigint, l.objid::bigint, $16)  AS objsubid,
		COALESCE(l.tuple::bigint, l.objsubid::bigint, $17) AS objsubsubid,
		l.locktype, l.mode AS lockmode, l.granted AS lockgranted
FROM pg_catalog.pg_locks AS l LEFT JOIN
	pg_catalog.pg_stat_activity AS sa ON l.pid = sa.pid JOIN
	pg_catalog.pg_database AS d ON sa.datid = d.oid",27,580.9108990000001,1.5730309999999998,33.063258999999995,21.51521848148148,5.799848977494324,174180,189,0,0,0,0,0,0,0,0,0,0,0
16384,16385,6334289337078566938,"SELECT o_c_id             FROM orders
WHERE o_id = d_no_o_id AND o_d_id = d_d_id AND
o_w_id = d_w_id",75135580,59099704.72318473,0.003499,55102.602131,0.7865741466715177,29.571510775897995,75135580,367046124,8643997,6057033,5993907,0,0,0,0,0,0,0,0
16384,16385,7300080156140774038,"SELECT count(c_id)              FROM customer
WHERE c_last = os_c_last AND c_d_id = os_d_id AND c_w_id = os_w_id",4506807,13460547.935132308,0.010548,35398.84285,2.9867149702955675,57.895627005924545,4506807,48383696,37090068,5845297,25775123,0,0,0,0,0,0,0,0
16384,16385,2180405251649949178,SELECT no_o_id                FROM new_order WHERE no_w_id = d_w_id AND no_d_id = d_d_id ORDER BY no_o_id ASC LIMIT $5,75135580,23437007.061046552,0.004425,13666.819279,0.31192954204989887,4.442877103415483,75135580,955353468,3073094,164263,2131652,0,0,0,0,0,0,0,0
16384,16385,350145126716322757,"select neword($1,$2,$3,$4,$5,$6)",75143694,1130301182.4923713,0.39943,69027.473646,15.041863426254865,147.3260290442139,75143694,16491159237,710150571,666698302,519388474,0,0,0,0,0,0,0,0
10,16385,-6887975327946995770,SET client_encoding TO 'utf8',571,8.707822999999996,0.00764,0.049783,0.015250127845884412,0.004278863745859926,0,0,0,0,0,0,0,0,0,0,0,0,0
10,13433,-5446850752671536204,SHOW log_disconnections,5,0.007103,0.00073,0.002517,0.0014206,0.0006948762767572368,0,0,0,0,0,0,0,0,0,0,0,0,0
10,16385,3980337565283546250,"SELECT n.nspname AS schema_name, c.relname AS index_name, pg_relation_size(c.oid) / $1 AS index_size_mb FROM pg_class c, pg_namespace n WHERE c.relnamespace = n.oid AND c.relkind = $2",4,27.648314,2.768763,14.081879,6.912078500000001,4.3704486677123615,668,4788,76,0,54,0,0,0,0,0,0,0,0
16384,16385,280100314666377612,"SELECT c_discount, c_last, c_credit, w_tax
                                                     FROM customer, warehouse
WHERE warehouse.w_id = no_w_id AND customer.c_w_id = no_w_id AND
customer.c_d_id = no_d_id AND customer.c_id = no_c_id",75143694,45565636.99591491,0.010662999999999999,59255.180219,0.6063800509447841,27.164814061214564,75143694,771411584,61185581,12768481,42633613,0,0,0,0,0,0,0,0
16384,16385,-8380073561014878083,"SELECT d_street_1, d_street_2, d_city, d_state, d_zip, d_name
                                                                        FROM district
WHERE d_w_id = p_w_id AND d_id = p_d_id",75144078,3201157.7956130654,0.002479,262.776687,0.04260026712433841,0.2881598942478388,75144078,566833045,17,334,11,0,0,0,0,0,0,0,0
10,16385,2190393618323980000,"CREATE FUNCTION pgstatindex(IN relname text,
    OUT version INT,
    OUT tree_level INT,
    OUT index_size BIGINT,
    OUT root_block_no BIGINT,
    OUT internal_pages BIGINT,
    OUT leaf_pages BIGINT,
    OUT empty_pages BIGINT,
    OUT deleted_pages BIGINT,
    OUT avg_leaf_density FLOAT8,
    OUT leaf_fragmentation FLOAT8)
AS '$libdir/pgstattuple', 'pgstatindex'
LANGUAGE C STRICT PARALLEL SAFE",1,0.124346,0.124346,0.124346,0.124346,0,0,80,0,2,0,0,0,0,0,0,0,0,0
10,13433,-2647960285711445552,SHOW log_lock_waits,5,0.008611,0.001208,0.002258,0.0017222,0.00042431657992588503,0,0,0,0,0,0,0,0,0,0,0,0,0
10,13433,-1849589757827694553,SHOW syslog_ident,5,0.034339,0.005272,0.009659,0.006867799999999999,0.0014962790381476308,0,0,0,0,0,0,0,0,0,0,0,0,0
10,16385,-3832115078929431881,COPY (SELECT * FROM pg_stat_all_tables) TO stdout WITH CSV HEADER,2,9.020704,4.016314,5.00439,4.510352,0.49403799999999976,232,984,76,0,0,0,0,0,0,0,0,0,0
10,16385,-862412906495145421,"SELECT e.extname AS extension_name, e.extversion AS extension_version,
		n.nspname AS extension_namespace, e.extrelocatable AS extension_relocatable
	FROM
	pg_extension e
	LEFT JOIN pg_catalog.pg_namespace n ON (e.extnamespace = n.oid)",1,0.10731,0.10731,0.10731,0.10731,0,4,4,1,0,0,0,0,0,0,0,0,0,0
10,13433,-8026329288367160423,"SELECT c.relname AS table_name, array_length(array_agg(i.indexrelid), $2) > $3 AS has_primary_key                                                                                                                    FROM
    (SELECT oid AS coid, * FROM pg_catalog.pg_class c WHERE relkind IN ($4, $5)) c
    JOIN pg_catalog.pg_namespace n ON (c.relnamespace = n.oid AND n.nspname = $1)
    LEFT JOIN pg_catalog.pg_index i ON (i.indexrelid = c.coid AND i.indisprimary)
GROUP BY c.relname",77,40.748867000000004,0.139346,2.252422,0.5292060649350648,0.3242052025481015,1793,2870,463,0,285,0,0,0,0,0,0,0,0
10,13433,755499316699468349,SELECT  upper(setting) FROM pg_settings WHERE name=$1,5,3.894507,0.6529860000000001,0.987739,0.7789014,0.13144748826904223,5,0,0,0,0,0,0,0,0,0,0,0,0
10,13433,-7736178542227309531,SHOW log_min_messages,5,0.007344,0.000766,0.002836,0.0014688,0.0007681977349615137,0,0,0,0,0,0,0,0,0,0,0,0,0
16384,16385,-1627277026996633940,"INSERT INTO order_line (ol_o_id, ol_d_id, ol_w_id, ol_number, ol_i_id, ol_supply_w_id, ol_quantity, ol_amount, ol_dist_info)
VALUES (o_id, no_d_id, no_w_id, loop_counter, no_ol_i_id, no_ol_supply_w_id, no_ol_quantity, no_ol_amount, no_ol_dist_info)",751428664,61750506.77188509,0.002993,13027.311966,0.08217747037103781,7.627507636727945,751428664,3870899764,2903762,15450154,22959613,0,0,0,0,0,0,0,0
10,16385,5316678639987306032,"/* New stuff in 1.1 begins here */

CREATE FUNCTION pgstatginindex(IN relname regclass,
    OUT version INT4,
    OUT pending_pages INT4,
    OUT pending_tuples BIGINT)
AS '$libdir/pgstattuple', 'pgstatginindex'
LANGUAGE C STRICT PARALLEL SAFE",1,0.081509,0.081509,0.081509,0.081509,0,0,58,1,1,0,0,0,0,0,0,0,0,0
10,16385,-2286245184544735808,"SELECT n.nspname AS schema_name, c.relname AS view_name, pg_relation_size(c.oid) / $1 AS mview_size_mb, pg_indexes_size(c.oid) / $2 AS size_of_indexes_mb, pg_total_relation_size(c.oid) / $3 AS total_mview_size_mb FROM pg_class c, pg_namespace n WHERE c.relnamespace = n.oid AND c.relkind = $4",4,1.056743,0.16383599999999998,0.333659,0.26418575,0.0628759832025512,0,43,9,0,6,0,0,0,0,0,0,0,0
10,16385,-5642866422942357720,GRANT EXECUTE ON FUNCTION pg_relpages(regclass) TO pg_stat_scan_tables,1,0.061901,0.061901,0.061901,0.061901,0,0,28,0,4,1,0,0,0,0,0,0,0,0
10,16385,6465064219195468563,COPY (SELECT * FROM pg_stat_bgwriter) TO stdout WITH CSV HEADER,2,0.230084,0.113523,0.116561,0.115042,0.001519000000000003,2,0,0,0,0,0,0,0,0,0,0,0,0
16384,16385,-3078489592644963703,DELETE FROM new_order WHERE no_w_id = d_w_id AND no_d_id = d_d_id AND no_o_id = d_no_o_id,75135580,18025099.66668133,0.003707,63419.507312,0.2399009852147609,38.366336090451085,74961496,450815985,263602,2826186,183892,0,0,0,0,0,0,0,0
16384,16385,838431727477019084,"SELECT count(c_id)              FROM customer
WHERE c_last = p_c_last AND c_d_id = p_c_d_id AND c_w_id = p_c_w_id",45090352,133791634.0525271,0.008487,62154.105426,2.9671898337047082,71.34750335060367,45090352,453343587,369500077,58720032,256697685,0,0,0,0,0,0,0,0
10,16385,5707888583666259747,COPY (SELECT * FROM pg_stat_all_indexes) TO stdout WITH CSV HEADER,2,1.4218350000000002,0.652752,0.7690830000000001,0.7109175000000001,0.05816550000000001,334,1044,0,0,0,0,0,0,0,0,0,0,0
10,13433,-6363133595459221451,SELECT $1,295,0.9974329999999997,0.00194,0.022175999999999998,0.003381128813559322,0.0018568034251579383,295,0,0,0,0,0,0,0,0,0,0,0,0
10,13433,678564265944054083,"SELECT
	$2 AS package_name, f.proname AS function_name, $3::""char"" AS function_type,
	f.prorettype::regtype AS return_type, pg_get_function_identity_arguments(f.oid) AS arg_types,
	f.probin AS function_binary, e.extname::text AS extension_name
FROM
	pg_catalog.pg_namespace AS s
	JOIN	pg_catalog.pg_proc AS f
		ON f.pronamespace = s.oid
	LEFT JOIN pg_catalog.pg_depend AS d
		ON (f.oid = d.objid AND d.classid = $4::regclass AND d.refclassid = $5::regclass)
	LEFT JOIN pg_catalog.pg_extension AS e
		ON (d.refobjid = e.oid)
WHERE
	s.nspname = $1",77,764.3827000000002,0.779593,37.037963,9.927048051948052,8.917647429718356,80379,252873,5509,0,3835,0,0,0,0,0,0,0,0
10,16385,3054876908056495962,GRANT EXECUTE ON FUNCTION pgstatginindex(regclass) TO pg_stat_scan_tables,1,0.020069,0.020069,0.020069,0.020069,0,0,14,0,0,0,0,0,0,0,0,0,0,0
10,16385,-4304855773095583397,"WITH
settings (block_size, shared_buffers, effective_cache_size) AS (
    VALUES (pg_size_bytes(current_setting($1)),
            pg_size_bytes(current_setting($2)),
            pg_size_bytes(current_setting($3)))
),
rels (oid, size) AS (
    SELECT oid, sum(relpages) OVER (ORDER BY relpages)
    FROM pg_class
    WHERE relnamespace = (SELECT oid FROM pg_namespace WHERE nspname = $4)
      AND relkind IN ($5, $6)
)
SELECT pg_prewarm(r.oid, CASE WHEN r.size * s.block_size <= s.shared_buffers THEN $7 ELSE $8 END)
FROM rels AS r,
     settings AS s
WHERE r.size * s.block_size <= GREATEST(s.shared_buffers, s.effective_cache_size)",1,55551.128456,55551.128456,55551.128456,55551.128456,0,19,99595,1188892,0,0,0,0,0,0,0,0,0,0
10,16385,3739758779130701777,"SELECT s.schemaname as schema_name, s.relname as table_name, s.seq_scan, s.seq_tup_read, s.idx_scan, s.idx_tup_fetch, s.n_tup_ins, s.n_tup_upd, s.n_tup_del, s.n_tup_hot_upd, s.n_live_tup, s.n_dead_tup, s.last_vacuum, s.last_autovacuum, s.last_analyze, s.last_autoanalyze, i.heap_blks_read, i.heap_blks_hit, i.idx_blks_read, i.idx_blks_hit, i.toast_blks_read, i.toast_blks_hit, c.relpages AS analyze_pages, c.reltuples AS analyze_tuples, now() AS capture_time FROM pg_stat_all_tables s JOIN pg_statio_all_tables i ON s.relid = i.relid JOIN pg_class c ON s.relid = c.oid WHERE c.relkind != $1",4,48.682184,11.871189000000001,12.362465,12.170546,0.1969769380092498,464,219,1,0,0,0,0,0,0,0,0,0,0
10,16385,8922248966408053823,"COPY (SELECT c.oid, c.relname, c.relkind, st.* FROM pg_class AS c, pgstattuple(c.oid::regclass) AS st WHERE c.relnamespace = (SELECT oid FROM pg_namespace WHERE nspname = $1) AND relkind IN ($2, $3) ORDER BY relkind, relname) TO stdout WITH CSV HEADER",1,161612.029632,161612.029632,161612.029632,161612.029632,0,19,20740919,24788738,0,0,0,0,0,0,0,0,0,0
10,13433,1310191425066152134,SHOW log_hostname,5,0.008915,0.000974,0.003255,0.001783,0.0007940974751250629,0,0,0,0,0,0,0,0,0,0,0,0,0
16384,16385,-7781024909404130612,"UPDATE customer SET c_balance = c_balance + d_ol_total
WHERE c_id = d_c_id AND c_d_id = d_d_id AND
c_w_id = d_w_id",75135580,29649176.26974445,0.008491,44056.109719,0.39460900241584745,25.261900872892067,75135580,417374924,62728420,67679064,43815890,0,0,0,0,0,0,0,0
16384,16385,7168736505462475819,"SELECT COUNT(DISTINCT s_i_id)                      FROM order_line, stock
    WHERE ol_w_id = st_w_id AND
        ol_d_id = st_d_id AND (ol_o_id < st_o_id) AND
        ol_o_id >= (st_o_id - $6) AND s_w_id = st_w_id AND
        s_i_id = ol_i_id AND s_quantity < threshold",7511821,98553375.66188195,0.42279900000000004,58746.373400000004,13.119771578939497,106.08849940479465,7511821,7740036832,1567604,557717,1072970,0,0,0,0,0,0,0,0
10,13433,7756308691762400194,SELECT nspname FROM pg_namespace nsp JOIN pg_proc pro ON pronamespace=nsp.oid WHERE proname = $1,27,6.3296980000000005,0.062388,2.130433,0.23443325925925929,0.4089332910374387,0,135,27,0,15,0,0,0,0,0,0,0,0
16384,16385,8542702090381103935,"SELECT c_data               FROM customer
WHERE c_w_id = p_c_w_id AND c_d_id = p_c_d_id AND c_id = p_c_id",35240141,998344.1350068351,0.0031709999999999998,12829.246956,0.028329742920357198,2.1733173673534565,35240141,173860441,3548387,5331,2465239,0,0,0,0,0,0,0,0
10,16385,-8523811733626467755,REVOKE EXECUTE ON FUNCTION pgstathashindex(regclass) FROM PUBLIC,1,0.022457,0.022457,0.022457,0.022457,0,0,15,0,0,0,0,0,0,0,0,0,0,0
10,13433,2714885131882449453,"SELECT
	schemaname AS schema_name, tablename AS table_name,
	sml.relpages AS estimated_pages, target_pages,
	ROUND(CASE WHEN target_pages = $1 THEN $2
			   ELSE sml.relpages/target_pages::numeric END,$3)
		AS estimated_bloat_multiple,
	CASE WHEN relpages < target_pages
		 THEN $4 ELSE relpages::bigint - target_pages END
		AS estimated_pages_wasted,
	estimated_bytes_per_tuple
FROM (
	SELECT
		schemaname, tablename, cc.relpages, block_size,
		CEIL(cc.reltuples::float /
			CASE WHEN (block_size-page_header) / estimated_bytes_per_tuple = $5
				 THEN $6
				 ELSE ((block_size - page_header) / estimated_bytes_per_tuple)
				 END) AS target_pages,
		estimated_bytes_per_tuple
	 FROM (
		SELECT
			max_align, block_size, schemaname, tablename, page_header,
			(datawidth + max_align
				- CASE WHEN datawidth % max_align = $7 THEN max_align
						ELSE datawidth % max_align END
				+ tuple_header + max_align
				- CASE WHEN tuple_header % max_align = $8 THEN max_align
						ELSE tuple_header % max_align END
				+ (max_null_frac * (null_bitmap_size + max_align -
					    CASE WHEN null_bitmap_size % max_align = $9
					    THEN max_align
					    ELSE null_bitmap_size % max_align END))
				+ item_ptr)::bigint
				AS estimated_bytes_per_tuple
		FROM (
			SELECT
				schemaname, tablename, tuple_header, page_header, item_ptr,
				max_align, block_size,
				CEIL(SUM(($10 - null_frac) * avg_width))::bigint AS datawidth,
				MAX(null_frac) AS max_null_frac,
				(
					SELECT COALESCE(count(*)/$11, $12)
					FROM pg_stats s2
					WHERE null_frac <> $13 AND s2.schemaname = s.schemaname AND
						s2.tablename = s.tablename
				) AS null_bitmap_size
			FROM pg_stats s, (
		       SELECT
		         current_setting($14)::integer AS block_size,
		         CASE WHEN substring(v,$15,$16) IN ($17,$18,$19)
					  THEN $20 ELSE $21 END AS tuple_header,
		         CASE WHEN substring(v,$22,$23) IN ($24,$25,$26)
					  THEN $27 ELSE $28 END::integer AS page_header,
		         $29 AS max_align,
				 $30 AS item_ptr
		       FROM (SELECT (string_to_array(version(), $31))[$32] AS v) AS foo
			) AS constants
			GROUP BY 1,2,3,4,5,6,7
		) AS foo
	) AS rs
	JOIN pg_class cc ON cc.relname = rs.tablename AND cc.relkind != $33
	JOIN pg_namespace nn ON cc.relnamespace = nn.oid
		AND nn.nspname = rs.schemaname
) AS sml",4,41.086652,6.469859,13.802589000000001,10.271663,3.5268643943942615,160,8755,269,0,188,0,0,0,0,0,0,0,0
10,16385,-8763080154347424346,"SELECT ct.conname, ct.conkey, ct.confkey, nl.nspname AS fknsp, cl.relname AS fktab, nr.nspname AS refnsp, cr.relname AS reftab FROM pg_constraint ct JOIN pg_class cl ON cl.oid = ct.conrelid JOIN pg_namespace nl ON nl.oid = cl.relnamespace JOIN pg_class cr ON cr.oid = ct.confrelid JOIN pg_namespace nr ON nr.oid = cr.relnamespace JOIN pg_catalog.pg_namespace nc ON nc.oid = ct.connamespace WHERE contype=$2 AND nc.nspname = $1",80,4.365987000000001,0.012586,0.166052,0.05457483750000001,0.02420022235354655,0,3,77,0,55,0,0,0,0,0,0,0,0
10,13433,3739758779130701777,"SELECT s.schemaname as schema_name, s.relname as table_name, s.seq_scan, s.seq_tup_read, s.idx_scan, s.idx_tup_fetch, s.n_tup_ins, s.n_tup_upd, s.n_tup_del, s.n_tup_hot_upd, s.n_live_tup, s.n_dead_tup, s.last_vacuum, s.last_autovacuum, s.last_analyze, s.last_autoanalyze, i.heap_blks_read, i.heap_blks_hit, i.idx_blks_read, i.idx_blks_hit, i.toast_blks_read, i.toast_blks_hit, c.relpages AS analyze_pages, c.reltuples AS analyze_tuples, now() AS capture_time FROM pg_stat_all_tables s JOIN pg_statio_all_tables i ON s.relid = i.relid JOIN pg_class c ON s.relid = c.oid WHERE c.relkind != $1",5,62.665673,11.938476,13.540184,12.533134599999999,0.605576704762196,530,270,5,0,3,0,0,0,0,0,0,0,0
10,16385,435174621275570554,COPY (SELECT * FROM pg_stat_database) TO stdout WITH CSV HEADER,2,29.992465000000003,12.610206,17.382259,14.996232500000001,2.386026500000001,10,242,81,0,0,0,0,0,0,0,0,0,0
10,13433,-3025636329378158246,SHOW log_filename,5,0.006156999999999999,0.000811,0.002153,0.0012314,0.00047548905350176037,0,0,0,0,0,0,0,0,0,0,0,0,0
16384,16385,-152674211127181809,"UPDATE order_line SET ol_delivery_d = current_timestamp
WHERE ol_o_id = d_no_o_id AND ol_d_id = d_d_id AND
ol_w_id = d_w_id",75135580,179075287.4240263,0.013434999999999999,64163.28692499999,2.383362016025485,61.83023806756293,751342367,2426011086,70037962,73731916,55023791,0,0,0,0,0,0,0,0
16384,16385,8629570183592985742,"INSERT INTO NEW_ORDER (no_o_id, no_d_id, no_w_id) VALUES (o_id, no_d_id, no_w_id)",75143694,5158242.0536931865,0.003828,13213.072236,0.06864504230647872,1.6806425151814424,75143694,381406940,759005,870007,676697,0,0,0,0,0,0,0,0
10,16385,-5109480985238204195,COPY (SELECT * FROM pg_stat_bgwriter) TO stdout WITH CSV HEADER,2,1.052495,0.477929,0.574566,0.5262475,0.04831850000000003,2,124,4,0,0,0,0,0,0,0,0,0,0
10,16385,8476351455718547263,REVOKE EXECUTE ON FUNCTION pgstattuple(text) FROM PUBLIC,1,1.064299,1.064299,1.064299,1.064299,0,0,23,7,3,0,0,0,0,0,0,0,0,0
10,13433,3010543408611823816,SHOW log_error_verbosity,5,0.011587,0.001067,0.004666,0.0023174,0.001304749416554765,0,0,0,0,0,0,0,0,0,0,0,0,0
10,16385,8073967179673371483,REVOKE EXECUTE ON FUNCTION pg_relpages(text) FROM PUBLIC,1,0.044076,0.044076,0.044076,0.044076,0,0,19,1,1,0,0,0,0,0,0,0,0,0
10,16385,-7053481684217008096,REVOKE EXECUTE ON FUNCTION pgstatindex(regclass) FROM PUBLIC,1,0.02058,0.02058,0.02058,0.02058,0,0,10,0,0,0,0,0,0,0,0,0,0,0
16384,16385,-6677403096909041306,select sum(d_next_o_id) from district,2,12893.718409000001,78.248414,12815.469995000001,6446.8592045000005,6368.610790500001,2,4870,22367,0,15174,0,0,0,0,0,0,0,0
10,16385,7197326979178551549,GRANT EXECUTE ON FUNCTION pgstatindex(regclass) TO pg_stat_scan_tables,1,0.041544,0.041544,0.041544,0.041544,0,0,26,1,1,0,0,0,0,0,0,0,0,0
16384,16385,-6709095786360440765,select max(d_id) from district,500,4343.864091,1.862037,117.20017,8.687728182,6.63186537710426,500,329462,1,0,0,0,0,0,0,0,0,0,0
10,13433,-2671880588815399326,"SELECT n.nspname AS schema_name, c.relname AS table_name, pg_relation_size(c.oid) / $1 AS table_size_mb, pg_indexes_size(c.oid) / $2 AS size_of_indexes_mb, pg_total_relation_size(c.oid) / $3 AS total_table_size_mb FROM pg_class c, pg_namespace n WHERE c.relnamespace = n.oid AND c.relkind IN ($4, $5)",5,44.964826,6.489007,11.189306,8.9929652,1.7074301394914404,335,6790,50,0,35,0,0,0,0,0,0,0,0
10,13433,5093536722758435631,SHOW debug_pretty_print,5,0.007718999999999999,0.000698,0.002699,0.0015438,0.0007473452749566294,0,0,0,0,0,0,0,0,0,0,0,0,0
10,16385,-2671880588815399326,"SELECT n.nspname AS schema_name, c.relname AS table_name, pg_relation_size(c.oid) / $1 AS table_size_mb, pg_indexes_size(c.oid) / $2 AS size_of_indexes_mb, pg_total_relation_size(c.oid) / $3 AS total_table_size_mb FROM pg_class c, pg_namespace n WHERE c.relnamespace = n.oid AND c.relkind IN ($4, $5)",5,44.090579999999996,7.708874,10.047417,8.818116,0.9956023233906197,380,7687,133,0,102,0,0,0,0,0,0,0,0
10,16385,7104491036261723972,COPY (SELECT * FROM pg_settings) TO stdout WITH CSV HEADER,1,1.786339,1.786339,1.786339,1.786339,0,321,34,4,0,0,0,0,0,0,0,0,0,0
