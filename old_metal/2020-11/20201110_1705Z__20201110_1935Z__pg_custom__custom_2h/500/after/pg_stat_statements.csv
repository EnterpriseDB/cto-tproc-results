userid,dbid,queryid,query,calls,total_time,min_time,max_time,mean_time,stddev_time,rows,shared_blks_hit,shared_blks_read,shared_blks_dirtied,shared_blks_written,local_blks_hit,local_blks_read,local_blks_dirtied,local_blks_written,temp_blks_read,temp_blks_written,blk_read_time,blk_write_time
10,16385,4781283453004295250,GRANT EXECUTE ON FUNCTION pgstathashindex(regclass) TO pg_stat_scan_tables,1,0.052564,0.052564,0.052564,0.052564,0,0,30,0,3,1,0,0,0,0,0,0,0,0
10,16385,-6766677562622511123,COPY (SELECT * FROM pg_stat_statements) TO stdout WITH CSV HEADER,1,1.690391,1.690391,1.690391,1.690391,0,8,35,5,0,0,0,0,0,0,0,0,0,0
16384,16385,8448155763064285664,"SELECT SUM(ol_amount)                 FROM order_line
WHERE ol_o_id = d_no_o_id AND ol_d_id = d_d_id
AND ol_w_id = d_w_id",65708060,36897058.30077004,0.004847000000000001,69461.389326,0.5615301730225686,24.15664098888192,65708060,736220732,135,2,82,0,0,0,0,0,0,0,0
16384,16385,-5864015298206844049,"SELECT o_id, o_carrier_id, o_entry_d 
                                          FROM
(SELECT o_id, o_carrier_id, o_entry_d
FROM orders where o_d_id = os_d_id AND o_w_id = os_w_id and o_c_id=os_c_id
ORDER BY o_id DESC) AS SUBQUERY
LIMIT $4",6573428,11476439.702689318,0.001018,47663.504075,1.745883533323642,42.02190667113383,5625319,20618189,9695260,1756641,6706230,0,0,0,0,0,0,0,0
16384,16385,535210619853203150,"SELECT i_price, i_name, i_data                                       FROM item WHERE i_id = no_ol_i_id",657513442,6562499.41619483,0.00203,12.841483,0.009980783657040377,0.049769816884880205,656849530,1971876414,0,0,0,0,0,0,0,0,0,0,0
10,13433,-8828646613545995663,SHOW log_connections,5,0.003975,0.000595,0.001093,0.000795,0.00017911672172078188,0,0,0,0,0,0,0,0,0,0,0,0,0
10,13433,8874842957009506731,SHOW log_duration,5,0.005137,0.000636,0.001734,0.0010274000000000001,0.00044509172088458363,0,0,0,0,0,0,0,0,0,0,0,0,0
10,16385,9007054616624864831,COPY (SELECT sum(size) AS wal_size FROM pg_ls_waldir()) TO stdout WITH CSV HEADER,1,5.409661,5.409661,5.409661,5.409661,0,1,0,0,0,0,0,0,0,0,0,0,0,0
10,13433,-8763080154347424346,"SELECT ct.conname, ct.conkey, ct.confkey, nl.nspname AS fknsp, cl.relname AS fktab, nr.nspname AS refnsp, cr.relname AS reftab FROM pg_constraint ct JOIN pg_class cl ON cl.oid = ct.conrelid JOIN pg_namespace nl ON nl.oid = cl.relnamespace JOIN pg_class cr ON cr.oid = ct.confrelid JOIN pg_namespace nr ON nr.oid = cr.relnamespace JOIN pg_catalog.pg_namespace nc ON nc.oid = ct.connamespace WHERE contype=$2 AND nc.nspname = $1",79,8.733970999999997,0.016045999999999998,3.61881,0.11055659493670886,0.40019146086872104,0,5,74,0,56,0,0,0,0,0,0,0,0
10,16385,-1223765790011969516,"COPY (SELECT c.oid, c.relname, c.relkind, st.* FROM pg_class AS c, pgstattuple(c.oid::regclass) AS st WHERE c.relnamespace = (SELECT oid FROM pg_namespace WHERE nspname = 'public') AND relkind IN ('r', 'i') ORDER BY relkind, relname) TO stdout WITH CSV HEADER",1,149515.416308,149515.416308,149515.416308,149515.416308,0,19,20741265,24788738,0,0,0,0,0,0,0,0,0,0
10,13433,-7700662603662758466,SHOW debug_print_rewritten,5,0.007098,0.000884,0.002,0.0014196,0.0004134366215032239,0,0,0,0,0,0,0,0,0,0,0,0,0
16384,16385,-419445515445068817,"SELECT d_next_o_id                  FROM district
    WHERE d_w_id=st_w_id AND d_id=st_d_id",6577537,1649119.090970657,0.004551,327.112829,0.2507198501461786,0.945506019266693,6577537,59162808,368,366,263,0,0,0,0,0,0,0,0
10,13433,-2834190937518791816,SHOW log_directory,5,0.009167000000000002,0.001231,0.002563,0.0018334,0.0005141321230967776,0,0,0,0,0,0,0,0,0,0,0,0,0
16384,16385,4585908510153829407,"UPDATE customer
SET c_balance = p_c_balance, c_data = p_c_new_data
WHERE c_w_id = p_c_w_id AND c_d_id = p_c_d_id AND
c_id = p_c_id",30853880,1417474.578811919,0.008202999999999998,40161.503087,0.04594153405705902,7.346975262332172,30853880,223246115,2572663,24171573,2226001,0,0,0,0,0,0,0,0
16384,16385,-1509001352764885261,"select payment($1,$2,$3,$4,$5,$6,$7,$8,$9,$10)",65750353,358523205.43466914,0.12551,60519.524785999994,5.452795142174343,71.53341773839993,65750353,4049872120,378298886,106513741,263522205,0,0,0,0,0,0,0,0
10,13433,-3977911648357329058,SHOW log_destination,5,0.011802,0.002027,0.002884,0.0023604,0.0003415169688317111,0,0,0,0,0,0,0,0,0,0,0,0,0
10,16385,-8610820246424350903,CREATE EXTENSION IF NOT EXISTS pgstattuple,1,33.961783,33.961783,33.961783,33.961783,0,0,1465,70,46,4,0,0,0,0,0,0,0,0
10,13433,1570458032255627950,"SELECT	s.nspname AS schema_name, $1 AS package_name, f.proname AS function_name,
		$2::""char"" AS function_type, f.prorettype::regtype AS return_type,
		f.proargtypes::regtype[] AS arg_types,
		fs.calls AS call_count, fs.total_time, fs.self_time
FROM	pg_catalog.pg_namespace AS s				-- schema
JOIN	pg_catalog.pg_proc AS f						-- function
ON		f.pronamespace = s.oid
JOIN	pg_catalog.pg_stat_user_functions AS fs		-- Func. stats
ON		fs.funcid = f.oid",4,59.217983999999994,12.51988,18.357809999999997,14.804495999999999,2.1956631180705966,0,12,304,0,182,0,0,0,0,0,0,0,0
10,16385,7678840415924500974,"COPY (SELECT oid, relname, relkind, pg_table_size(oid) AS size, pg_size_pretty(pg_table_size(oid)) AS size_pretty FROM pg_class WHERE relnamespace = (SELECT oid FROM pg_namespace WHERE nspname = $1) AND relkind IN ($2, $3) ORDER BY relname) TO stdout WITH CSV HEADER",1,1.11056,1.11056,1.11056,1.11056,0,19,241,8,0,0,0,0,0,0,0,0,0,0
10,13433,-6887975327946995770,SET client_encoding TO 'utf8',846,11.479382999999997,0.008176,0.030976,0.013569010638297891,0.003328309290605275,0,0,0,0,0,0,0,0,0,0,0,0,0
10,16385,7889668247544608713,REVOKE EXECUTE ON FUNCTION pgstatindex(text) FROM PUBLIC,1,0.051837,0.051837,0.051837,0.051837,0,0,9,0,0,0,0,0,0,0,0,0,0,0
10,16385,-1893876962091545561,"SELECT c.relname AS index_name, r.relname AS table_name, i.indkey AS ind_keys FROM pg_catalog.pg_class c, pg_catalog.pg_namespace n, pg_catalog.pg_index i, pg_catalog.pg_class r WHERE c.relkind = $2 AND c.relnamespace = n.oid AND n.nspname = $1 AND c.oid = i.indexrelid AND r.oid = i.indrelid",81,45.51414999999997,0.143879,1.7557289999999999,0.5619030864197531,0.33823258949267204,3429,18154,368,0,262,0,0,0,0,0,0,0,0
10,16385,-7114524403290099261,SELECT nspname AS schema_name FROM pg_catalog.pg_namespace WHERE nspname = $1 OR nspname NOT LIKE $2,27,0.339911,0.008121000000000001,0.048519,0.012589296296296296,0.0073478650404691865,81,27,0,0,0,0,0,0,0,0,0,0,0
10,13433,-1210793084495882891,"SELECT datname AS database_name, pid AS procpid, usename, client_addr, client_port, backend_start,
		xact_start, query_start, CASE WHEN wait_event IS NULL THEN $1 ELSE $2 END AS is_waiting,
		state = $3 AS is_idle, state like $4 AS is_idle_in_transaction, query ilike $5 as is_vacuum,
		client_port IS NULL AND (query like $6 OR query like $7) as is_autovacuum,
		now() AS capture_time, wait_event, wait_event_type, query, state, state_change FROM pg_catalog.pg_stat_activity",7,23.710902,0.224051,4.8113779999999995,3.3872717142857143,1.3650302283051374,2928,35,0,0,0,0,0,0,0,0,0,0,0
10,16385,-9141043935656865573,"CREATE FUNCTION pgstatindex(IN relname regclass,
    OUT version INT,
    OUT tree_level INT,
    OUT index_size BIGINT,
    OUT root_block_no BIGINT,
    OUT internal_pages BIGINT,
    OUT leaf_pages BIGINT,
    OUT empty_pages BIGINT,
    OUT deleted_pages BIGINT,
    OUT avg_leaf_density FLOAT8,
    OUT leaf_fragmentation FLOAT8)
AS '$libdir/pgstattuple', 'pgstatindexbyid'
LANGUAGE C STRICT PARALLEL SAFE",1,0.941345,0.941345,0.941345,0.941345,0,0,71,1,1,0,0,0,0,0,0,0,0,0
10,13433,-8506820586081797325,SELECT spcname AS tablespace_name FROM pg_catalog.pg_tablespace,27,0.172281,0.00505,0.008617999999999999,0.006380777777777777,0.0010622041839472587,54,27,0,0,0,0,0,0,0,0,0,0,0
16384,16385,-7905805567509321201,"INSERT INTO history (h_c_d_id, h_c_w_id, h_c_id, h_d_id,
h_w_id, h_date, h_amount, h_data)
VALUES (p_c_d_id, p_c_w_id, p_c_id, p_d_id,
p_w_id, tstamp, p_h_amount, h_data)",65750353,1465372.559378035,0.003112,336.297121,0.022286915469140123,0.5687311989058231,65750353,83194325,4894,631915,1065802,0,0,0,0,0,0,0,0
10,16385,-1053197692998249427,REVOKE EXECUTE ON FUNCTION pgstattuple(regclass) FROM PUBLIC,1,0.032797,0.032797,0.032797,0.032797,0,0,11,0,0,0,0,0,0,0,0,0,0,0
16384,16385,6703659376452535220,"UPDATE district SET d_next_o_id = d_next_o_id + $4 WHERE d_id = no_d_id AND d_w_id = no_w_id RETURNING d_next_o_id, d_tax",65750878,42724013.96038319,0.010346999999999999,61263.564674,0.6497862121381505,25.270094743972166,65750878,804611780,283120,288316,231371,0,0,0,0,0,0,0,0
10,13433,-4488053959279494118,SHOW log_checkpoints,5,0.004652,0.000713,0.001149,0.0009304,0.00017497611265541362,0,0,0,0,0,0,0,0,0,0,0,0,0
10,16385,7756308691762400194,SELECT nspname FROM pg_namespace nsp JOIN pg_proc pro ON pronamespace=nsp.oid WHERE proname = $1,27,2.8449199999999997,0.056941000000000005,0.515974,0.10536740740740742,0.08283525998128667,0,136,26,0,18,0,0,0,0,0,0,0,0
16384,16385,2318375009225089574,"select * from ostat($1,$2,$3,$4,$5) as (ol_i_id INTEGER,  ol_supply_w_id INTEGER, ol_quantity SMALLINT, ol_amount NUMERIC, ol_delivery_d TIMESTAMPTZ,  out_os_c_id INTEGER, out_os_c_last VARCHAR, os_c_first VARCHAR, os_c_middle VARCHAR, os_c_balance NUMERIC, os_o_id INTEGER, os_entdate TIMESTAMPtz, os_o_carrier_id SMALLINT)",6573428,55121217.38550017,0.049951999999999996,47664.206605,8.385459973928635,93.9464542852202,56276449,151180396,60517610,13241074,41835290,0,0,0,0,0,0,0,0
10,13433,9089778385048873210,"SELECT COALESCE(d1.datname, $1) AS database_name, d1.numbackends, (
        SELECT COALESCE(count(query)::bigint, $2::bigint)
        FROM pg_catalog.pg_stat_activity
        WHERE datname = d1.datname AND state = $3
    ) AS idle_backends,
    d1.xact_commit, d1.xact_rollback, d1.blks_hit,
    $4::bigint AS blks_icache_hit, d1.blks_read, d1.tup_returned,
    d1.tup_fetched, d1.tup_inserted, d1.tup_updated, d1.tup_deleted
FROM pg_catalog.pg_stat_database d1",4,4566.429218,12.142049,4528.428482,1141.6073045,1955.382176481337,20,449,0,0,0,0,0,0,0,0,0,0,0
10,16385,6575380484479358805,"SELECT c.relname AS view_name, c.relkind AS view_type, c.relispopulated AS ispopulated, spc.spcname AS tablespace_name, pg_get_userbyid(c.relowner) AS view_owner, pg_get_viewdef(c.oid, $2) AS definition FROM pg_catalog.pg_class c LEFT OUTER JOIN pg_tablespace spc on spc.oid=c.reltablespace LEFT OUTER JOIN pg_namespace n on n.oid=c.relnamespace WHERE (c.relkind = $3 OR c.relkind = $4) AND c.relnamespace = n.oid AND n.nspname = $1",79,1801.531375,0.776311,86.744535,22.804194620253167,17.49393167351659,3251,131959,5478,0,3738,0,0,0,0,0,0,0,0
10,16385,-5133820801638620109,"CREATE OR REPLACE FUNCTION pg_relpages(IN relname text)
RETURNS BIGINT
AS '$libdir/pgstattuple', 'pg_relpages_v1_5'
LANGUAGE C STRICT PARALLEL SAFE",1,0.118261,0.118261,0.118261,0.118261,0,0,39,0,0,0,0,0,0,0,0,0,0,0
10,13433,-4406722852627213537,"SELECT
	schemaname AS schema_name, tablename AS view_name,
	sml.relpages AS estimated_pages, target_pages,
	ROUND(CASE WHEN target_pages = $1 THEN $2
			   ELSE sml.relpages/target_pages::numeric END,$3)
		AS estimated_bloat_multiple,
	CASE WHEN relpages < target_pages
		 THEN $4 ELSE relpages::bigint - target_pages END
		AS estimated_pages_wasted,
	estimated_bytes_per_tuple
FROM (
	SELECT
		schemaname, tablename, cc.relpages, block_size,
		CEIL(cc.reltuples::float /
			CASE WHEN (block_size-page_header) / estimated_bytes_per_tuple = $5
				 THEN $6
				 ELSE ((block_size - page_header) / estimated_bytes_per_tuple)
				 END) AS target_pages,
		estimated_bytes_per_tuple
	 FROM (
		SELECT
			max_align, block_size, schemaname, tablename, page_header,
			(datawidth + max_align
				- CASE WHEN datawidth % max_align = $7 THEN max_align
						ELSE datawidth % max_align END
				+ tuple_header + max_align
				- CASE WHEN tuple_header % max_align = $8 THEN max_align
						ELSE tuple_header % max_align END
				+ (max_null_frac * (null_bitmap_size + max_align -
					    CASE WHEN null_bitmap_size % max_align = $9
					    THEN max_align
					    ELSE null_bitmap_size % max_align END))
				+ item_ptr)::bigint
				AS estimated_bytes_per_tuple
		FROM (
			SELECT
				schemaname, tablename, tuple_header, page_header, item_ptr,
				max_align, block_size,
				CEIL(SUM(($10 - null_frac) * avg_width))::bigint AS datawidth,
				MAX(null_frac) AS max_null_frac,
				(
					SELECT COALESCE(count(*)/$11, $12)
					FROM pg_stats s2
					WHERE null_frac <> $13 AND s2.schemaname = s.schemaname AND
						s2.tablename = s.tablename
				) AS null_bitmap_size
			FROM pg_stats s, (
		       SELECT
		         current_setting($14)::integer AS block_size,
		         CASE WHEN substring(v,$15,$16) IN ($17,$18,$19)
					  THEN $20 ELSE $21 END AS tuple_header,
		         CASE WHEN substring(v,$22,$23) IN ($24,$25,$26)
					  THEN $27 ELSE $28 END::integer AS page_header,
		         $29 AS max_align,
				 $30 AS item_ptr
		       FROM (SELECT (string_to_array(version(), $31))[$32] AS v) AS foo
			) AS constants
			GROUP BY 1,2,3,4,5,6,7
		) AS foo
	) AS rs
	JOIN pg_class cc ON cc.relname = rs.tablename AND cc.relkind = $33
	JOIN pg_namespace nn ON cc.relnamespace = nn.oid
		AND nn.nspname = rs.schemaname
) AS sml",4,36.53114,5.9133249999999995,16.779411,9.132785,4.44150827674468,0,9465,300,0,205,0,0,0,0,0,0,0,0
16384,16385,-8474462854878793032,"select slev($1,$2,$3)",6577537,136857493.7268402,0.43105,61688.408759,20.806799524933336,114.83920394723476,6577537,6857637411,1113454,437350,741678,0,0,0,0,0,0,0,0
10,16385,-1368367109486112334,"COPY (SELECT oid, datname, pg_database_size(oid) AS size, pg_size_pretty(pg_database_size(oid)) AS size_pretty FROM pg_database ORDER BY datname) TO stdout WITH CSV HEADER",1,7.421379,7.421379,7.421379,7.421379,0,4,161,7,0,0,0,0,0,0,0,0,0,0
10,16385,5871932529255942364,"/* New stuff in 1.2 begins here */

CREATE FUNCTION pgstattuple(IN reloid regclass,
    OUT table_len BIGINT,		-- physical table length in bytes
    OUT tuple_count BIGINT,		-- number of live tuples
    OUT tuple_len BIGINT,		-- total tuples length in bytes
    OUT tuple_percent FLOAT8,		-- live tuples in %
    OUT dead_tuple_count BIGINT,	-- number of dead tuples
    OUT dead_tuple_len BIGINT,		-- total dead tuples length in bytes
    OUT dead_tuple_percent FLOAT8,	-- dead tuples in %
    OUT free_space BIGINT,		-- free space in bytes
    OUT free_percent FLOAT8)		-- free space in %
AS '$libdir/pgstattuple', 'pgstattuplebyid'
LANGUAGE C STRICT PARALLEL SAFE",1,0.706708,0.706708,0.706708,0.706708,0,0,68,1,1,0,0,0,0,0,0,0,0,0
16384,16385,6036219744207163361,"UPDATE orders SET o_carrier_id = d_o_carrier_id
WHERE o_id = d_no_o_id AND o_d_id = d_d_id AND
o_w_id = d_w_id",65708060,3525359.6715988247,0.004831,24710.823092,0.05365186054188445,6.8154789617035005,65708060,538508999,10662187,13997650,7788165,0,0,0,0,0,0,0,0
10,13433,2296680990060135499,"SELECT spcname AS tablespace_name, pg_catalog.pg_tablespace_size(oid) / $1 AS tablespace_size_mb FROM pg_catalog.pg_tablespace",5,14.688096999999999,2.3771259999999996,3.2242669999999998,2.9376194,0.3019148000483582,10,5,0,0,0,0,0,0,0,0,0,0,0
10,13433,-7240925700928404466,"SELECT usename, usesuper, valuntil, useconfig, now() as capture_time FROM pg_catalog.pg_user",5,0.13209300000000002,0.023490999999999998,0.032938999999999996,0.026418599999999997,0.0034097001979646237,10,25,0,0,0,0,0,0,0,0,0,0,0
10,16385,-881659611999927945,"/* New stuff in 1.2 begins here */

CREATE OR REPLACE FUNCTION pgstattuple(IN reloid regclass,
    OUT table_len BIGINT,		-- physical table length in bytes
    OUT tuple_count BIGINT,		-- number of live tuples
    OUT tuple_len BIGINT,		-- total tuples length in bytes
    OUT tuple_percent FLOAT8,		-- live tuples in %
    OUT dead_tuple_count BIGINT,	-- number of dead tuples
    OUT dead_tuple_len BIGINT,		-- total dead tuples length in bytes
    OUT dead_tuple_percent FLOAT8,	-- dead tuples in %
    OUT free_space BIGINT,		-- free space in bytes
    OUT free_percent FLOAT8)		-- free space in %
AS '$libdir/pgstattuple', 'pgstattuplebyid_v1_5'
LANGUAGE C STRICT PARALLEL SAFE",1,0.175699,0.175699,0.175699,0.175699,0,0,63,0,0,0,0,0,0,0,0,0,0,0
10,13433,-7633766044836245533,SELECT setting from pg_catalog.pg_settings where name = $1,20,13.267655999999997,0.542528,0.9804200000000001,0.6633828,0.10538829998088022,20,0,0,0,0,0,0,0,0,0,0,0,0
10,13433,8316398688943518660,SHOW log_line_prefix,5,0.005052999999999999,0.000704,0.00192,0.0010106,0.0004569996061267449,0,0,0,0,0,0,0,0,0,0,0,0,0
10,16385,-6209476769686484145,"/* New stuff in 1.3 begins here */

CREATE FUNCTION pgstattuple_approx(IN reloid regclass,
    OUT table_len BIGINT,               -- physical table length in bytes
    OUT scanned_percent FLOAT8,         -- what percentage of the table's pages was scanned
    OUT approx_tuple_count BIGINT,      -- estimated number of live tuples
    OUT approx_tuple_len BIGINT,        -- estimated total length in bytes of live tuples
    OUT approx_tuple_percent FLOAT8,    -- live tuples in % (based on estimate)
    OUT dead_tuple_count BIGINT,        -- exact number of dead tuples
    OUT dead_tuple_len BIGINT,          -- exact total length in bytes of dead tuples
    OUT dead_tuple_percent FLOAT8,      -- dead tuples in % (based on estimate)
    OUT approx_free_space BIGINT,       -- estimated free space in bytes
    OUT approx_free_percent FLOAT8)     -- free space in % (based on estimate)
AS '$libdir/pgstattuple', 'pgstattuple_approx'
LANGUAGE C STRICT PARALLEL SAFE",1,0.233941,0.233941,0.233941,0.233941,0,0,71,1,1,0,0,0,0,0,0,0,0,0
10,13433,3980337565283546250,"SELECT n.nspname AS schema_name, c.relname AS index_name, pg_relation_size(c.oid) / $1 AS index_size_mb FROM pg_class c, pg_namespace n WHERE c.relnamespace = n.oid AND c.relkind = $2",5,15.825629000000001,2.589886,3.524545,3.1651258,0.3687479025141159,780,5400,75,0,53,0,0,0,0,0,0,0,0
16384,16385,7734250700467206409,"select delivery($1,$2)",6570806,538628333.4210756,1.280921,69809.46456,81.97294721851455,296.54823365697416,6570806,5632563768,143734345,150725635,105911710,0,0,0,0,0,0,0,0
16384,16385,-3735569893645297314,"UPDATE customer SET c_balance = p_c_balance
WHERE c_w_id = p_c_w_id AND c_d_id = p_c_d_id AND
c_id = p_c_id",34896473,1660249.8808680063,0.000655,21622.274147,0.04757643790727762,4.132517989910304,30870838,220296192,5741785,24514402,4335778,0,0,0,0,0,0,0,0
10,13433,7895966737858895766,SELECT $1,5,0.010694,0.001833,0.0023309999999999997,0.0021388,0.00017600272725159683,5,0,0,0,0,0,0,0,0,0,0,0,0
10,16385,2714885131882449453,"SELECT
	schemaname AS schema_name, tablename AS table_name,
	sml.relpages AS estimated_pages, target_pages,
	ROUND(CASE WHEN target_pages = $1 THEN $2
			   ELSE sml.relpages/target_pages::numeric END,$3)
		AS estimated_bloat_multiple,
	CASE WHEN relpages < target_pages
		 THEN $4 ELSE relpages::bigint - target_pages END
		AS estimated_pages_wasted,
	estimated_bytes_per_tuple
FROM (
	SELECT
		schemaname, tablename, cc.relpages, block_size,
		CEIL(cc.reltuples::float /
			CASE WHEN (block_size-page_header) / estimated_bytes_per_tuple = $5
				 THEN $6
				 ELSE ((block_size - page_header) / estimated_bytes_per_tuple)
				 END) AS target_pages,
		estimated_bytes_per_tuple
	 FROM (
		SELECT
			max_align, block_size, schemaname, tablename, page_header,
			(datawidth + max_align
				- CASE WHEN datawidth % max_align = $7 THEN max_align
						ELSE datawidth % max_align END
				+ tuple_header + max_align
				- CASE WHEN tuple_header % max_align = $8 THEN max_align
						ELSE tuple_header % max_align END
				+ (max_null_frac * (null_bitmap_size + max_align -
					    CASE WHEN null_bitmap_size % max_align = $9
					    THEN max_align
					    ELSE null_bitmap_size % max_align END))
				+ item_ptr)::bigint
				AS estimated_bytes_per_tuple
		FROM (
			SELECT
				schemaname, tablename, tuple_header, page_header, item_ptr,
				max_align, block_size,
				CEIL(SUM(($10 - null_frac) * avg_width))::bigint AS datawidth,
				MAX(null_frac) AS max_null_frac,
				(
					SELECT COALESCE(count(*)/$11, $12)
					FROM pg_stats s2
					WHERE null_frac <> $13 AND s2.schemaname = s.schemaname AND
						s2.tablename = s.tablename
				) AS null_bitmap_size
			FROM pg_stats s, (
		       SELECT
		         current_setting($14)::integer AS block_size,
		         CASE WHEN substring(v,$15,$16) IN ($17,$18,$19)
					  THEN $20 ELSE $21 END AS tuple_header,
		         CASE WHEN substring(v,$22,$23) IN ($24,$25,$26)
					  THEN $27 ELSE $28 END::integer AS page_header,
		         $29 AS max_align,
				 $30 AS item_ptr
		       FROM (SELECT (string_to_array(version(), $31))[$32] AS v) AS foo
			) AS constants
			GROUP BY 1,2,3,4,5,6,7
		) AS foo
	) AS rs
	JOIN pg_class cc ON cc.relname = rs.tablename AND cc.relkind != $33
	JOIN pg_namespace nn ON cc.relnamespace = nn.oid
		AND nn.nspname = rs.schemaname
) AS sml",4,41.15687199999999,8.313604,13.355096,10.289218,1.873646664859733,196,10933,317,8,222,0,0,0,0,0,0,0,0
16384,16385,-6429350979433877752,"SELECT c_balance, c_first, c_middle, c_last
                                                      FROM customer
WHERE c_id = os_c_id AND c_d_id = os_d_id AND c_w_id = os_w_id",2631093,1822634.4138169265,0.007448,35291.187549999995,0.6927289965869892,26.542503214856737,2631093,11041718,2186654,435700,1517357,0,0,0,0,0,0,0,0
10,16385,-7465348360820981658,"/* contrib/pgstattuple/pgstattuple--1.4.sql */

-- complain if script is sourced in psql, rather than via CREATE EXTENSION


CREATE FUNCTION pgstattuple(IN relname text,
    OUT table_len BIGINT,		-- physical table length in bytes
    OUT tuple_count BIGINT,		-- number of live tuples
    OUT tuple_len BIGINT,		-- total tuples length in bytes
    OUT tuple_percent FLOAT8,		-- live tuples in %
    OUT dead_tuple_count BIGINT,	-- number of dead tuples
    OUT dead_tuple_len BIGINT,		-- total dead tuples length in bytes
    OUT dead_tuple_percent FLOAT8,	-- dead tuples in %
    OUT free_space BIGINT,		-- free space in bytes
    OUT free_percent FLOAT8)		-- free space in %
AS '$libdir/pgstattuple', 'pgstattuple'
LANGUAGE C STRICT PARALLEL SAFE",1,9.229527,9.229527,9.229527,9.229527,0,0,94,22,8,0,0,0,0,0,0,0,0,0
16384,16385,-2587373995957382718,"UPDATE district SET d_ytd = d_ytd + p_h_amount
WHERE d_w_id = p_w_id AND d_id = p_d_id",65750353,37675791.76530135,0.006543,55702.793229999996,0.5730127679359502,26.516228694224285,65750353,802867049,285319,289740,223367,0,0,0,0,0,0,0,0
16384,16385,8512556722248587417,"INSERT INTO ORDERS (o_id, o_d_id, o_w_id, o_c_id, o_entry_d, o_ol_cnt, o_all_local) VALUES (o_id, no_d_id, no_w_id, no_c_id, current_timestamp, no_o_ol_cnt, no_o_all_local)",65750878,7110068.907223917,0.010192,12507.116461000001,0.1081364861351345,4.615178631966291,65750878,554956400,52518957,54279972,38295258,0,0,0,0,0,0,0,0
10,13433,8695233458571796599,"SELECT pg_catalog.version() AS version_string, ((select setting from pg_settings where name = $1)::decimal * (select setting from pg_settings where name = $2)::decimal / ($3 * $4))::numeric AS shared_buffers_mb, ((select setting from pg_settings where name = $5)::decimal * (select setting from pg_settings where name = $6)::decimal / ($7 * $8))::numeric AS temp_buffers_mb, ((select setting from pg_settings where name = $9)::decimal * (select setting from pg_settings where name = $10)::decimal / ($11 * $12))::numeric AS effective_cache_size_mb, ((select setting from pg_settings where name = $13)::decimal * (select setting from pg_settings where name = $14)::decimal / ($15 * $16))::numeric AS segment_size_mb, ((select setting from pg_settings where name = $17)::decimal * (select setting from pg_settings where name = $18)::decimal / ($19 * $20))::numeric AS wal_segment_size_mb, ((select setting from pg_settings where name = $21)::decimal * (select setting from pg_settings where name = $22)::decimal / ($23 * $24))::numeric AS wal_buffers_mb, (SELECT pg_postmaster_start_time())::timestamptz AS server_start_time",21,166.316521,6.748337,10.549691,7.919834333333333,1.0177870070517059,21,0,0,0,0,0,0,0,0,0,0,0,0
10,13433,-3069291828911369550,"SELECT checkpoints_timed, checkpoints_req, buffers_clean, buffers_checkpoint, maxwritten_clean, buffers_backend, buffers_alloc FROM pg_catalog.pg_stat_bgwriter",27,30486.918480999997,10.210412999999999,10086.776023,1129.145128925926,3164.6290451304494,27,0,0,0,0,0,0,0,0,0,0,0,0
16384,16385,-2774539774756357613,"SELECT ol_i_id, ol_supply_w_id, ol_quantity, ol_amount, ol_delivery_d, out_os_c_id, out_os_c_last, os_c_first, os_c_middle, os_c_balance, os_o_id, os_entdate, os_o_carrier_id	
FROM order_line
WHERE ol_o_id = os_o_id AND ol_d_id = os_d_id AND ol_w_id = os_w_id",6573428,20744491.890169702,0.00048800000000000004,36357.71819100001,3.1558103154351596,61.8231555824887,0,32229210,15674046,5926064,10813472,0,0,0,0,0,0,0,0
10,13433,-1893876962091545561,"SELECT c.relname AS index_name, r.relname AS table_name, i.indkey AS ind_keys FROM pg_catalog.pg_class c, pg_catalog.pg_namespace n, pg_catalog.pg_index i, pg_catalog.pg_class r WHERE c.relkind = $2 AND c.relnamespace = n.oid AND n.nspname = $1 AND c.oid = i.indexrelid AND r.oid = i.indrelid",75,41.486411,0.120325,1.624751,0.5531521466666663,0.2753081808024209,3159,16599,471,0,324,0,0,0,0,0,0,0,0
16384,16385,4537153651744612746,select sum(xact_commit + xact_rollback) from pg_stat_database,2,20.784712,10.3615,10.423212,10.392356,0.030855999999999995,2,2,0,0,0,0,0,0,0,0,0,0,0
16384,16385,3774428674426749831,"SELECT s_quantity, s_data, s_dist_01, s_dist_02, s_dist_03, s_dist_04, s_dist_05, s_dist_06, s_dist_07, s_dist_08, s_dist_09, s_dist_10
                                                                                                                                                                          FROM stock WHERE s_i_id = no_ol_i_id AND s_w_id = no_ol_supply_w_id",657513442,1205122545.9313025,0.002362,67581.538951,1.832848530465951,42.82897801571403,656849530,2793256035,510445547,229276060,353922700,0,0,0,0,0,0,0,0
10,16385,1594136720473630204,REVOKE EXECUTE ON FUNCTION pgstattuple_approx(regclass) FROM PUBLIC,1,0.019576,0.019576,0.019576,0.019576,0,0,8,0,0,0,0,0,0,0,0,0,0,0
10,16385,5710526357416411007,GRANT EXECUTE ON FUNCTION pgstattuple(regclass) TO pg_stat_scan_tables,1,0.020685,0.020685,0.020685,0.020685,0,0,17,0,0,0,0,0,0,0,0,0,0,0
10,16385,8395332438900674856,GRANT EXECUTE ON FUNCTION pg_relpages(text) TO pg_stat_scan_tables,1,0.057309,0.057309,0.057309,0.057309,0,0,17,0,0,0,0,0,0,0,0,0,0,0
10,16385,6425910584067443383,COPY (SELECT * FROM pg_stat_database) TO stdout WITH CSV HEADER,2,20.738356,10.335846,10.40251,10.369178,0.033331999999999695,10,2,0,0,0,0,0,0,0,0,0,0,0
10,16385,-9221933125350291022,"CREATE OR REPLACE FUNCTION pgstatindex(IN relname text,
    OUT version INT,
    OUT tree_level INT,
    OUT index_size BIGINT,
    OUT root_block_no BIGINT,
    OUT internal_pages BIGINT,
    OUT leaf_pages BIGINT,
    OUT empty_pages BIGINT,
    OUT deleted_pages BIGINT,
    OUT avg_leaf_density FLOAT8,
    OUT leaf_fragmentation FLOAT8)
AS '$libdir/pgstattuple', 'pgstatindex_v1_5'
LANGUAGE C STRICT PARALLEL SAFE",1,0.213882,0.213882,0.213882,0.213882,0,0,69,0,0,0,0,0,0,0,0,0,0,0
10,13433,-5547292198708549587,SHOW log_statement,5,0.005555,0.000724,0.002488,0.001111,0.0006888802508419007,0,0,0,0,0,0,0,0,0,0,0,0,0
16384,16385,387629091158505087,"UPDATE stock SET s_quantity = no_s_quantity
WHERE s_i_id = no_ol_i_id
AND s_w_id = no_ol_supply_w_id",657513441,17821989.859016523,0.002001,15034.349584,0.027105133899490073,0.9766007132272102,656849529,4097393207,7526372,274477664,6548146,0,0,0,0,0,0,0,0
10,16385,5353842540958846297,"CREATE OR REPLACE FUNCTION pg_relpages(IN relname regclass)
RETURNS BIGINT
AS '$libdir/pgstattuple', 'pg_relpagesbyid_v1_5'
LANGUAGE C STRICT PARALLEL SAFE",1,0.041701,0.041701,0.041701,0.041701,0,0,36,0,0,0,0,0,0,0,0,0,0,0
10,13433,6321497457064599433,SHOW logging_collector,5,0.005377,0.000884,0.001658,0.0010754,0.00029270162281750333,0,0,0,0,0,0,0,0,0,0,0,0,0
10,16385,7239828280932003960,"COPY (SELECT oid, relname, relkind, pg_table_size(oid) AS size, pg_size_pretty(pg_table_size(oid)) AS size_pretty FROM pg_class WHERE relnamespace = (SELECT oid FROM pg_namespace WHERE nspname = 'public') AND relkind IN ('r', 'i') ORDER BY relname) TO stdout WITH CSV HEADER",1,4.223094,4.223094,4.223094,4.223094,0,19,514,15,0,0,0,0,0,0,0,0,0,0
10,13433,6575380484479358805,"SELECT c.relname AS view_name, c.relkind AS view_type, c.relispopulated AS ispopulated, spc.spcname AS tablespace_name, pg_get_userbyid(c.relowner) AS view_owner, pg_get_viewdef(c.oid, $2) AS definition FROM pg_catalog.pg_class c LEFT OUTER JOIN pg_tablespace spc on spc.oid=c.reltablespace LEFT OUTER JOIN pg_namespace n on n.oid=c.relnamespace WHERE (c.relkind = $3 OR c.relkind = $4) AND c.relnamespace = n.oid AND n.nspname = $1",79,1810.664347,0.113057,91.002719,22.91980186075949,18.063556091359395,3287,130190,7042,0,4784,0,0,0,0,0,0,0,0
10,13433,-4015976671128116915,SELECT (setting::int/($1*$2))::int FROM pg_settings WHERE name = $3,5,3.4197379999999997,0.5537810000000001,0.868314,0.6839476000000001,0.10193331698438933,5,0,0,0,0,0,0,0,0,0,0,0,0
10,16385,1570458032255627950,"SELECT	s.nspname AS schema_name, $1 AS package_name, f.proname AS function_name,
		$2::""char"" AS function_type, f.prorettype::regtype AS return_type,
		f.proargtypes::regtype[] AS arg_types,
		fs.calls AS call_count, fs.total_time, fs.self_time
FROM	pg_catalog.pg_namespace AS s				-- schema
JOIN	pg_catalog.pg_proc AS f						-- function
ON		f.pronamespace = s.oid
JOIN	pg_catalog.pg_stat_user_functions AS fs		-- Func. stats
ON		fs.funcid = f.oid",5,65.412761,11.3292,14.791748,13.0825522,1.1023831575277994,0,138,272,0,199,0,0,0,0,0,0,0,0
10,16385,7766681659969259930,GRANT EXECUTE ON FUNCTION pgstattuple_approx(regclass) TO pg_stat_scan_tables,1,0.01878,0.01878,0.01878,0.01878,0,0,14,0,0,0,0,0,0,0,0,0,0,0
10,16385,1783548336943659886,"COPY (SELECT oid, datname, pg_database_size(oid) AS size, pg_size_pretty(pg_database_size(oid)) AS size_pretty FROM pg_database ORDER BY datname) TO stdout WITH CSV HEADER",1,4.53808,4.53808,4.53808,4.53808,0,4,4,0,0,0,0,0,0,0,0,0,0,0
10,16385,8565171400252749021,COPY (SELECT sum(size) AS wal_size FROM pg_ls_waldir()) TO stdout WITH CSV HEADER,1,7.160995,7.160995,7.160995,7.160995,0,1,44,3,0,0,0,0,0,0,0,0,0,0
10,16385,-2538216402246000971,"SELECT i.schemaname AS schema_name, i.indexrelname AS index_name, s.idx_scan, s.idx_tup_read, s.idx_tup_fetch, i.idx_blks_read, i.idx_blks_hit FROM pg_stat_all_indexes s JOIN pg_statio_all_indexes i ON s.indexrelid = i.indexrelid",4,50.102265,11.517627000000001,14.547163,12.52556625,1.2020090567685782,668,8088,12,0,6,0,0,0,0,0,0,0,0
10,13433,-8153513440251185629,SHOW debug_print_plan,5,0.005082,0.000666,0.001514,0.0010164,0.00030236838459071736,0,0,0,0,0,0,0,0,0,0,0,0,0
10,16385,-4406722852627213537,"SELECT
	schemaname AS schema_name, tablename AS view_name,
	sml.relpages AS estimated_pages, target_pages,
	ROUND(CASE WHEN target_pages = $1 THEN $2
			   ELSE sml.relpages/target_pages::numeric END,$3)
		AS estimated_bloat_multiple,
	CASE WHEN relpages < target_pages
		 THEN $4 ELSE relpages::bigint - target_pages END
		AS estimated_pages_wasted,
	estimated_bytes_per_tuple
FROM (
	SELECT
		schemaname, tablename, cc.relpages, block_size,
		CEIL(cc.reltuples::float /
			CASE WHEN (block_size-page_header) / estimated_bytes_per_tuple = $5
				 THEN $6
				 ELSE ((block_size - page_header) / estimated_bytes_per_tuple)
				 END) AS target_pages,
		estimated_bytes_per_tuple
	 FROM (
		SELECT
			max_align, block_size, schemaname, tablename, page_header,
			(datawidth + max_align
				- CASE WHEN datawidth % max_align = $7 THEN max_align
						ELSE datawidth % max_align END
				+ tuple_header + max_align
				- CASE WHEN tuple_header % max_align = $8 THEN max_align
						ELSE tuple_header % max_align END
				+ (max_null_frac * (null_bitmap_size + max_align -
					    CASE WHEN null_bitmap_size % max_align = $9
					    THEN max_align
					    ELSE null_bitmap_size % max_align END))
				+ item_ptr)::bigint
				AS estimated_bytes_per_tuple
		FROM (
			SELECT
				schemaname, tablename, tuple_header, page_header, item_ptr,
				max_align, block_size,
				CEIL(SUM(($10 - null_frac) * avg_width))::bigint AS datawidth,
				MAX(null_frac) AS max_null_frac,
				(
					SELECT COALESCE(count(*)/$11, $12)
					FROM pg_stats s2
					WHERE null_frac <> $13 AND s2.schemaname = s.schemaname AND
						s2.tablename = s.tablename
				) AS null_bitmap_size
			FROM pg_stats s, (
		       SELECT
		         current_setting($14)::integer AS block_size,
		         CASE WHEN substring(v,$15,$16) IN ($17,$18,$19)
					  THEN $20 ELSE $21 END AS tuple_header,
		         CASE WHEN substring(v,$22,$23) IN ($24,$25,$26)
					  THEN $27 ELSE $28 END::integer AS page_header,
		         $29 AS max_align,
				 $30 AS item_ptr
		       FROM (SELECT (string_to_array(version(), $31))[$32] AS v) AS foo
			) AS constants
			GROUP BY 1,2,3,4,5,6,7
		) AS foo
	) AS rs
	JOIN pg_class cc ON cc.relname = rs.tablename AND cc.relkind = $33
	JOIN pg_namespace nn ON cc.relnamespace = nn.oid
		AND nn.nspname = rs.schemaname
) AS sml",4,47.117082,5.529011000000001,28.15806,11.7792705,9.500928244639901,0,10539,336,9,168,0,0,0,0,0,0,0,0
10,13433,8887676621517593594,"SELECT datname AS database_name, spcname AS tablespace_name, pg_database_size(a.oid) / $1 AS database_size_mb FROM pg_catalog.pg_database a, pg_catalog.pg_tablespace b WHERE a.dattablespace = b.oid",5,13.482204,2.414095,2.9604779999999997,2.6964407999999995,0.17663132972199475,20,25,0,0,0,0,0,0,0,0,0,0,0
16384,16385,-9037368486022885083,"SELECT w_street_1, w_street_2, w_city, w_state, w_zip, w_name
                                                                        FROM warehouse
WHERE w_id = p_w_id",65750353,3255942.011730751,0.002632,321.460436,0.04951976473390489,0.29217213730297215,65750353,439072850,25,232,18,0,0,0,0,0,0,0,0
10,16385,4025368465343339790,REVOKE EXECUTE ON FUNCTION pgstatginindex(regclass) FROM PUBLIC,1,0.048733,0.048733,0.048733,0.048733,0,0,8,0,0,0,0,0,0,0,0,0,0,0
16384,16385,-1074176117266427516,"SELECT c_first, c_middle, c_id,
c_street_1, c_street_2, c_city, c_state, c_zip,
c_phone, c_credit, c_credit_lim,
c_discount, c_balance, c_since
FROM customer
WHERE c_w_id = p_c_w_id AND c_d_id = p_c_d_id AND c_last = p_c_last
ORDER BY c_first",39442250,2510407.1293076808,0.005069,7608.910914,0.0636476653666719,3.5750016457011156,35416615,430389729,16762261,549,11535378,0,0,0,0,0,0,0,0
10,13433,3118381099387576881,"SELECT blocked_activity.pid                     AS blocked_pid,
		blocked_activity.usename                 AS blocked_user,
		blocked.mode                             AS locktype,
		blocking_activity.pid                    AS blocking_pid,
		blocking_activity.usename                AS blocking_user,
		blocking_activity.datname                AS database_name,
		now() - blocking_activity.query_start    AS blocking_duration,
		now() - blocked_activity.query_start     AS blocked_duration,
		blocking_activity.query_start            AS blocking_query_start,
		blocked_activity.query_start             AS blocked_query_start,
		blocked_activity.query                   AS blocked_statement,
		blocking_activity.query                  AS current_statement_in_blocking_process,
		blocked_activity.application_name        AS blocked_application,
		blocking_activity.application_name       AS blocking_application
	FROM pg_catalog.pg_stat_activity AS blocked_activity
	JOIN pg_catalog.pg_stat_activity AS blocking_activity ON blocking_activity.pid = ANY (pg_blocking_pids(blocked_activity.pid))
	JOIN pg_catalog.pg_locks AS blocked ON blocked.pid = blocked_activity.pid
	WHERE NOT blocked.granted",27,14688.154815,1.244045,1172.4619050000001,544.0057338888889,257.0193395801399,85,234,0,0,0,0,0,0,0,0,0,0,0
10,16385,678564265944054083,"SELECT
	$2 AS package_name, f.proname AS function_name, $3::""char"" AS function_type,
	f.prorettype::regtype AS return_type, pg_get_function_identity_arguments(f.oid) AS arg_types,
	f.probin AS function_binary, e.extname::text AS extension_name
FROM
	pg_catalog.pg_namespace AS s
	JOIN	pg_catalog.pg_proc AS f
		ON f.pronamespace = s.oid
	LEFT JOIN pg_catalog.pg_depend AS d
		ON (f.oid = d.objid AND d.classid = $4::regclass AND d.refclassid = $5::regclass)
	LEFT JOIN pg_catalog.pg_extension AS e
		ON (d.refobjid = e.oid)
WHERE
	s.nspname = $1",80,679.1162380000003,0.877802,27.620217,8.488952974999997,7.664527094294947,80899,257012,6673,0,4464,0,0,0,0,0,0,0,0
10,13433,-1860561219988219235,"SELECT name, setting, unit FROM pg_catalog.pg_settings",27,23.880474999999993,0.713801,1.1309969999999998,0.8844620370370371,0.11818970342521114,8694,0,0,0,0,0,0,0,0,0,0,0,0
16384,16385,5616180274698321996,set CLIENT_MIN_MESSAGES TO 'ERROR',501,1.9784970000000004,0.001779,0.01503,0.003949095808383235,0.001650688761707168,0,0,0,0,0,0,0,0,0,0,0,0,0
10,16385,-2485742924531423326,"SELECT c.relname AS sequence_name FROM pg_catalog.pg_class c, pg_catalog.pg_namespace n WHERE c.relkind = $2 AND c.relnamespace = n.oid AND n.nspname = $1",81,24.666963000000006,0.103534,1.51155,0.3045304074074075,0.20304256406367124,0,781,272,0,186,0,0,0,0,0,0,0,0
10,13433,-4414173500990894660,SHOW client_min_messages,5,0.006481,0.000876,0.002536,0.0012961999999999997,0.0006228079639824783,0,0,0,0,0,0,0,0,0,0,0,0,0
10,16385,4390283800491518311,SELECT version(),572,5.879359000000003,0.006255,0.02105,0.010278599650349649,0.0019311072077339766,572,0,0,0,0,0,0,0,0,0,0,0,0
10,16385,-3845857942904937752,GRANT EXECUTE ON FUNCTION pgstatindex(text) TO pg_stat_scan_tables,1,0.059182,0.059182,0.059182,0.059182,0,0,15,0,0,0,0,0,0,0,0,0,0,0
10,13433,4390283800491518311,SELECT version(),846,8.787157000000002,0.007064,0.029728,0.010386710401891238,0.0021965856462335637,846,0,0,0,0,0,0,0,0,0,0,0,0
16384,16385,431293040050433973,set client_encoding to 'UTF8',501,5.314411999999992,0.006121,0.028114,0.010607608782435123,0.003351732638395274,0,0,0,0,0,0,0,0,0,0,0,0,0
10,16385,-6767559790556280863,COPY (SELECT * FROM pg_stat_all_tables) TO stdout WITH CSV HEADER,2,1.9078080000000002,0.927876,0.979932,0.9539040000000001,0.026028000000000023,232,34,2,0,0,0,0,0,0,0,0,0,0
10,13433,2650940218892349018,SHOW debug_print_parse,5,0.010064,0.001507,0.002666,0.0020128,0.0003970810496611492,0,0,0,0,0,0,0,0,0,0,0,0,0
10,13433,-2994652966809217000,"SELECT COALESCE(sum($1), $2) AS number_of_wal_files FROM pg_ls_waldir() AS d (file) WHERE file ~ $3",26,1773.2142800000001,11.760031000000001,81.842711,68.20054923076924,19.283988732979093,26,0,0,0,0,0,0,0,0,0,0,0,0
10,16385,-6566320076099828533,"/* New stuff in 1.5 begins here */

CREATE OR REPLACE FUNCTION pgstathashindex(IN relname regclass,
	OUT version INTEGER,
	OUT bucket_pages BIGINT,
	OUT overflow_pages BIGINT,
	OUT bitmap_pages BIGINT,
	OUT unused_pages BIGINT,
	OUT live_items BIGINT,
	OUT dead_items BIGINT,
	OUT free_percent FLOAT8)
AS '$libdir/pgstattuple', 'pgstathashindex'
LANGUAGE C STRICT PARALLEL SAFE",1,0.062087,0.062087,0.062087,0.062087,0,0,63,0,0,0,0,0,0,0,0,0,0,0
10,13433,338292482059956270,SHOW log_min_error_statement,5,0.007399000000000001,0.000714,0.002205,0.0014797999999999999,0.0006188658659192637,0,0,0,0,0,0,0,0,0,0,0,0,0
10,16385,-8026329288367160423,"SELECT c.relname AS table_name, array_length(array_agg(i.indexrelid), $2) > $3 AS has_primary_key                                                                                                                    FROM
    (SELECT oid AS coid, * FROM pg_catalog.pg_class c WHERE relkind IN ($4, $5)) c
    JOIN pg_catalog.pg_namespace n ON (c.relnamespace = n.oid AND n.nspname = $1)
    LEFT JOIN pg_catalog.pg_index i ON (i.indexrelid = c.coid AND i.indisprimary)
GROUP BY c.relname",81,37.264969,0.16103699999999999,7.035623,0.46006134567901213,0.7532299540089336,2052,3456,216,0,158,0,0,0,0,0,0,0,0
10,16385,-2028750283664882377,"/* New stuff in 1.3 begins here */

CREATE OR REPLACE FUNCTION pgstattuple_approx(IN reloid regclass,
    OUT table_len BIGINT,               -- physical table length in bytes
    OUT scanned_percent FLOAT8,         -- what percentage of the table's pages was scanned
    OUT approx_tuple_count BIGINT,      -- estimated number of live tuples
    OUT approx_tuple_len BIGINT,        -- estimated total length in bytes of live tuples
    OUT approx_tuple_percent FLOAT8,    -- live tuples in % (based on estimate)
    OUT dead_tuple_count BIGINT,        -- exact number of dead tuples
    OUT dead_tuple_len BIGINT,          -- exact total length in bytes of dead tuples
    OUT dead_tuple_percent FLOAT8,      -- dead tuples in % (based on estimate)
    OUT approx_free_space BIGINT,       -- estimated free space in bytes
    OUT approx_free_percent FLOAT8)     -- free space in % (based on estimate)
AS '$libdir/pgstattuple', 'pgstattuple_approx_v1_5'
LANGUAGE C STRICT PARALLEL SAFE",1,0.073378,0.073378,0.073378,0.073378,0,0,69,0,0,0,0,0,0,0,0,0,0,0
10,16385,-9200501687501372896,"/* New stuff in 1.1 begins here */

CREATE OR REPLACE FUNCTION pgstatginindex(IN relname regclass,
    OUT version INT4,
    OUT pending_pages INT4,
    OUT pending_tuples BIGINT)
AS '$libdir/pgstattuple', 'pgstatginindex_v1_5'
LANGUAGE C STRICT PARALLEL SAFE",1,0.35183,0.35183,0.35183,0.35183,0,0,49,1,3,1,0,0,0,0,0,0,0,0
10,13433,1498014034136010274,"SELECT datname AS database_name, datallowconn AS connections_allowed, pg_encoding_to_char(encoding) AS encoding, CASE WHEN oid > datlastsysoid THEN $1 ELSE $2 END AS system_database FROM pg_catalog.pg_database WHERE NOT datistemplate AND datallowconn",27,0.436696,0.011675999999999999,0.026590000000000003,0.01617392592592593,0.0036972510501514996,54,27,0,0,0,0,0,0,0,0,0,0,0
10,16385,-583053980741995473,GRANT EXECUTE ON FUNCTION pgstattuple(text) TO pg_stat_scan_tables,1,0.523789,0.523789,0.523789,0.523789,0,0,27,1,1,0,0,0,0,0,0,0,0,0
10,13433,-2485742924531423326,"SELECT c.relname AS sequence_name FROM pg_catalog.pg_class c, pg_catalog.pg_namespace n WHERE c.relkind = $2 AND c.relnamespace = n.oid AND n.nspname = $1",80,20.471329000000004,0.089723,0.641896,0.25589161250000014,0.10950423636445461,0,826,214,0,145,0,0,0,0,0,0,0,0
10,13433,-2286245184544735808,"SELECT n.nspname AS schema_name, c.relname AS view_name, pg_relation_size(c.oid) / $1 AS mview_size_mb, pg_indexes_size(c.oid) / $2 AS size_of_indexes_mb, pg_total_relation_size(c.oid) / $3 AS total_mview_size_mb FROM pg_class c, pg_namespace n WHERE c.relnamespace = n.oid AND c.relkind = $4",4,1.137391,0.18809,0.36278699999999997,0.28434775,0.06472766090465111,0,28,24,0,19,0,0,0,0,0,0,0,0
10,13433,3087330719923255368,SELECT * FROM pg_catalog.pg_rewrite WHERE ev_class = $1 AND rulename = $2,3287,33.09046300000002,0.001998,1.383416,0.010067071189534522,0.02981628285976094,3287,6161,413,0,293,0,0,0,0,0,0,0,0
10,13433,8587080389022159474,SHOW log_truncate_on_rotation,5,0.009299,0.001595,0.002589,0.0018598,0.0003816979958029646,0,0,0,0,0,0,0,0,0,0,0,0,0
16384,16385,-8052465060012368764,"SELECT c_balance, c_first, c_middle, c_id
FROM customer
WHERE c_last = os_c_last AND c_d_id = os_d_id AND c_w_id = os_w_id
ORDER BY c_first",3942335,141486.15020900447,0.005490999999999999,63.15733699999999,0.03588892121268057,0.12325787691912754,3540890,44490124,218824,59,148834,0,0,0,0,0,0,0,0
16384,16385,-6988539292928998990,select max(w_id) from warehouse,500,42.32812300000002,0.039951,2.898931,0.08465624599999995,0.12874021379903594,500,2011,1,0,0,0,0,0,0,0,0,0,0
10,16385,9123510028664027085,CREATE EXTENSION IF NOT EXISTS pg_prewarm,1,1.299781,1.299781,1.299781,1.299781,0,0,23,0,0,0,0,0,0,0,0,0,0,0
10,16385,3938236843315395282,COPY (SELECT * FROM pg_settings) TO stdout WITH CSV HEADER,1,1.529396,1.529396,1.529396,1.529396,0,322,0,0,0,0,0,0,0,0,0,0,0,0
10,16385,8862327702913361285,"/* contrib/pgstattuple/pgstattuple--1.4--1.5.sql */

-- complain if script is sourced in psql, rather than via ALTER EXTENSION


CREATE OR REPLACE FUNCTION pgstattuple(IN relname text,
    OUT table_len BIGINT,		-- physical table length in bytes
    OUT tuple_count BIGINT,		-- number of live tuples
    OUT tuple_len BIGINT,		-- total tuples length in bytes
    OUT tuple_percent FLOAT8,		-- live tuples in %
    OUT dead_tuple_count BIGINT,	-- number of dead tuples
    OUT dead_tuple_len BIGINT,		-- total dead tuples length in bytes
    OUT dead_tuple_percent FLOAT8,	-- dead tuples in %
    OUT free_space BIGINT,		-- free space in bytes
    OUT free_percent FLOAT8)		-- free space in %
AS '$libdir/pgstattuple', 'pgstattuple_v1_5'
LANGUAGE C STRICT PARALLEL SAFE",1,0.282422,0.282422,0.282422,0.282422,0,0,71,0,1,0,0,0,0,0,0,0,0,0
10,16385,-8863090166992369258,COPY (SELECT * FROM pg_stat_statements) TO stdout WITH CSV HEADER,1,0.18269400000000002,0.18269400000000002,0.18269400000000002,0.18269400000000002,0,8,0,0,0,0,0,0,0,0,0,0,0,0
10,16385,8791746904918487037,"COPY (SELECT c.oid, c.relname, st.* FROM pg_class AS c, pgstatindex(c.oid::regclass) AS st WHERE c.relnamespace = (SELECT oid FROM pg_namespace WHERE nspname = 'public') AND relkind = 'i' ORDER BY relname) TO stdout WITH CSV HEADER",1,9498.857386,9498.857386,9498.857386,9498.857386,0,10,695,4047703,0,0,0,0,0,0,0,0,0,0
10,13433,3466096389063879580,SHOW hba_file,5,0.014992,0.002111,0.004352,0.0029984,0.0008242229310083528,0,0,0,0,0,0,0,0,0,0,0,0,0
10,16385,5885118335430618511,"COPY (SELECT c.oid, c.relname, st.* FROM pg_class AS c, pgstatindex(c.oid::regclass) AS st WHERE c.relnamespace = (SELECT oid FROM pg_namespace WHERE nspname = $1) AND relkind = $2 ORDER BY relname) TO stdout WITH CSV HEADER",1,9495.874743,9495.874743,9495.874743,9495.874743,0,10,412,4047703,0,0,0,0,0,0,0,0,0,0
10,13433,-89568869021717116,"SELECT COALESCE(sum($1), $2) AS number_of_prepared_transactions FROM pg_catalog.pg_prepared_xacts",26,0.35938,0.009907000000000001,0.029986000000000002,0.013822307692307691,0.0043650359393113,26,0,0,0,0,0,0,0,0,0,0,0,0
10,16385,-1712481118449147880,COPY (SELECT * FROM pg_stat_all_indexes) TO stdout WITH CSV HEADER,2,6.691045,2.964531,3.726514,3.3455225,0.3809914999999999,334,1913,7,0,0,0,0,0,0,0,0,0,0
10,16385,3087330719923255368,SELECT * FROM pg_catalog.pg_rewrite WHERE ev_class = $1 AND rulename = $2,3251,52.376275999999976,0.0019700000000000004,7.489181,0.016110820055367587,0.17849079218143019,3251,6114,388,0,259,0,0,0,0,0,0,0,0
16384,16385,4199956106828167744,"UPDATE warehouse SET w_ytd = w_ytd + p_h_amount
WHERE w_id = p_w_id",65750353,72859990.06794946,0.011816,40952.007257,1.1081307817153894,23.039872663659352,65750353,585713256,265581,273618,212797,0,0,0,0,0,0,0,0
10,13433,-7114524403290099261,SELECT nspname AS schema_name FROM pg_catalog.pg_namespace WHERE nspname = $1 OR nspname NOT LIKE $2,27,0.31706999999999996,0.008282,0.018164,0.011743333333333335,0.0027368740617042704,81,27,0,0,0,0,0,0,0,0,0,0,0
10,13433,-2538216402246000971,"SELECT i.schemaname AS schema_name, i.indexrelname AS index_name, s.idx_scan, s.idx_tup_read, s.idx_tup_fetch, i.idx_blks_read, i.idx_blks_hit FROM pg_stat_all_indexes s JOIN pg_statio_all_indexes i ON s.indexrelid = i.indexrelid",4,48.817205,11.679300999999999,13.173548,12.204301249999999,0.5844824907939393,624,7564,8,0,5,0,0,0,0,0,0,0,0
16384,16385,-1194917419640136509,"SELECT c_first, c_middle, c_last,
c_street_1, c_street_2, c_city, c_state, c_zip,
c_phone, c_credit, c_credit_lim,
c_discount, c_balance, c_since
                                                                                                                                                                            FROM customer
WHERE c_w_id = p_c_w_id AND c_d_id = p_c_d_id AND c_id = p_c_id",26308103,18991441.560959466,0.0053419999999999995,44689.494785999996,0.7218856320032137,34.200686847408306,26308103,106916759,25525610,4338923,17693698,0,0,0,0,0,0,0,0
10,16385,7692802627618774262,"CREATE FUNCTION pg_relpages(IN relname text)
RETURNS BIGINT
AS '$libdir/pgstattuple', 'pg_relpages'
LANGUAGE C STRICT PARALLEL SAFE",1,0.055608,0.055608,0.055608,0.055608,0,0,39,0,1,0,0,0,0,0,0,0,0,0
10,13433,-1257764248680262789,SELECT (setting::int/$1)::int FROM pg_settings WHERE name = $2,5,3.197432,0.561325,0.6983469999999999,0.6394864,0.05578412708145572,5,0,0,0,0,0,0,0,0,0,0,0,0
10,16385,-5728662229740608972,REVOKE EXECUTE ON FUNCTION pg_relpages(regclass) FROM PUBLIC,1,0.020045,0.020045,0.020045,0.020045,0,0,11,0,0,0,0,0,0,0,0,0,0,0
10,16385,-8773329865684120251,"CREATE OR REPLACE FUNCTION pgstatindex(IN relname regclass,
    OUT version INT,
    OUT tree_level INT,
    OUT index_size BIGINT,
    OUT root_block_no BIGINT,
    OUT internal_pages BIGINT,
    OUT leaf_pages BIGINT,
    OUT empty_pages BIGINT,
    OUT deleted_pages BIGINT,
    OUT avg_leaf_density FLOAT8,
    OUT leaf_fragmentation FLOAT8)
AS '$libdir/pgstattuple', 'pgstatindexbyid_v1_5'
LANGUAGE C STRICT PARALLEL SAFE",1,0.067476,0.067476,0.067476,0.067476,0,0,66,0,0,0,0,0,0,0,0,0,0,0
10,16385,4746814237094050184,"CREATE FUNCTION pg_relpages(IN relname regclass)
RETURNS BIGINT
AS '$libdir/pgstattuple', 'pg_relpagesbyid'
LANGUAGE C STRICT PARALLEL SAFE",1,0.858064,0.858064,0.858064,0.858064,0,0,40,1,3,1,0,0,0,0,0,0,0,0
10,13433,-8114006871343019987,"/* pid could be NULL for prepared transactions, and DB oid could be 0
		 * for shared relations, hence the LEFT JOIN being used below and the
		 * convoluted way of getting database OID.
		 *
		 * The side effect of this is that the locks on shared objects will
		 * appear to be taken under some database, specifically, under the
		 * database to which the backend process is connected. And if the lock
		 * on the shared object is taken by a prepared transaction, only then
		 * would we see an empty string in database_name.
		 *
		 * Note: We do not support reporting on the 'userlock' locktype; this
		 * locktype is provided by ancient contrib/userlock module.
		 * TODO: Research and implement support for this.
		 */
SELECT ROW_NUMBER() OVER (PARTITION BY l.pid) AS lockrowid,
		COALESCE(d.datname, $1)			AS database_name,
		COALESCE(l.pid::bigint, $2)		AS procpid,
		CASE
		WHEN l.locktype IN ($3, $4, $5, $6) THEN
			l.relation::text::numeric
		WHEN l.locktype = $7 THEN
			transactionid::text::numeric
		WHEN l.locktype = $8 THEN
			regexp_replace(l.virtualxid, $9, $10)::numeric
		WHEN l.locktype IN ($11, $12) THEN
			classid::text::numeric
		ELSE
			COALESCE(
				l.relation::text::numeric, transactionid::text::numeric,
				regexp_replace(l.virtualxid, $13, $14)::numeric,
				classid::text::numeric, $15
			)
		END AS objid,
		COALESCE(l.page::bigint, l.objid::bigint, $16)  AS objsubid,
		COALESCE(l.tuple::bigint, l.objsubid::bigint, $17) AS objsubsubid,
		l.locktype, l.mode AS lockmode, l.granted AS lockgranted
FROM pg_catalog.pg_locks AS l LEFT JOIN
	pg_catalog.pg_stat_activity AS sa ON l.pid = sa.pid JOIN
	pg_catalog.pg_database AS d ON sa.datid = d.oid",27,589.651421,1.569517,28.52536,21.83894151851852,5.171767764881324,187189,189,0,0,0,0,0,0,0,0,0,0,0
16384,16385,6334289337078566938,"SELECT o_c_id             FROM orders
WHERE o_id = d_no_o_id AND o_d_id = d_d_id AND
o_w_id = d_w_id",65708060,91574620.0263667,0.003294,39423.872609,1.3936588605164422,34.08485378266523,65708060,320244855,8312988,5415845,5731820,0,0,0,0,0,0,0,0
16384,16385,7300080156140774038,"SELECT count(c_id)              FROM customer
WHERE c_last = os_c_last AND c_d_id = os_d_id AND c_w_id = os_w_id",3942335,19710081.191780567,0.010131,36320.743229,4.999595719739641,69.60779927556578,3942335,42503751,32742821,5087986,22649392,0,0,0,0,0,0,0,0
16384,16385,2180405251649949178,SELECT no_o_id                FROM new_order WHERE no_w_id = d_w_id AND no_d_id = d_d_id ORDER BY no_o_id ASC LIMIT $5,65708060,35161342.38634999,0.004005,51443.174831000004,0.5351146021712946,12.996155422786863,65708060,1043457163,2484073,147651,1714336,0,0,0,0,0,0,0,0
16384,16385,350145126716322757,"select neword($1,$2,$3,$4,$5,$6)",65750877,1449314507.0061226,0.37089300000000003,67694.198488,22.04251217829872,144.21699495603337,65750877,14699196532,628594974,585598838,457655304,0,0,0,0,0,0,0,0
10,13433,848916327912478307,"SELECT n.nspname AS schema_name, c.relname AS table_name, age(c.relfrozenxid) AS frozenxid FROM pg_class c, pg_namespace n WHERE c.relnamespace = n.oid AND c.relkind IN ($1, $2)",1,0.359487,0.359487,0.359487,0.359487,0,67,9,8,0,7,0,0,0,0,0,0,0,0
10,16385,-6887975327946995770,SET client_encoding TO 'utf8',572,7.745473000000003,0.007295,0.034018,0.013541036713286719,0.0034155055990151566,0,0,0,0,0,0,0,0,0,0,0,0,0
10,13433,-5446850752671536204,SHOW log_disconnections,5,0.006277,0.000678,0.00283,0.0012554,0.0008100226169681931,0,0,0,0,0,0,0,0,0,0,0,0,0
10,16385,3980337565283546250,"SELECT n.nspname AS schema_name, c.relname AS index_name, pg_relation_size(c.oid) / $1 AS index_size_mb FROM pg_class c, pg_namespace n WHERE c.relnamespace = n.oid AND c.relkind = $2",5,17.762832,2.795758,4.652411000000001,3.5525664000000003,0.6242797991992375,835,5978,102,0,69,0,0,0,0,0,0,0,0
16384,16385,280100314666377612,"SELECT c_discount, c_last, c_credit, w_tax
                                                     FROM customer, warehouse
WHERE warehouse.w_id = no_w_id AND customer.c_w_id = no_w_id AND
customer.c_d_id = no_d_id AND customer.c_id = no_c_id",65750878,59565229.16351931,0.010629,43278.739262999996,0.9059229469683922,26.41868287126108,65750878,714748014,54664212,10880573,37905671,0,0,0,0,0,0,0,0
16384,16385,-8380073561014878083,"SELECT d_street_1, d_street_2, d_city, d_state, d_zip, d_name
                                                                        FROM district
WHERE d_w_id = p_w_id AND d_id = p_d_id",65750353,2577023.943106792,0.002497,313.37709800000005,0.03919407007756473,0.3174311948202026,65750353,592800407,4,194,3,0,0,0,0,0,0,0,0
10,16385,2190393618323980000,"CREATE FUNCTION pgstatindex(IN relname text,
    OUT version INT,
    OUT tree_level INT,
    OUT index_size BIGINT,
    OUT root_block_no BIGINT,
    OUT internal_pages BIGINT,
    OUT leaf_pages BIGINT,
    OUT empty_pages BIGINT,
    OUT deleted_pages BIGINT,
    OUT avg_leaf_density FLOAT8,
    OUT leaf_fragmentation FLOAT8)
AS '$libdir/pgstattuple', 'pgstatindex'
LANGUAGE C STRICT PARALLEL SAFE",1,0.201497,0.201497,0.201497,0.201497,0,0,80,0,2,0,0,0,0,0,0,0,0,0
10,13433,-2647960285711445552,SHOW log_lock_waits,5,0.004697000000000001,0.000647,0.001775,0.0009394000000000002,0.00042294519739559643,0,0,0,0,0,0,0,0,0,0,0,0,0
10,13433,-1849589757827694553,SHOW syslog_ident,5,0.031379000000000004,0.00429,0.008496,0.006275800000000001,0.0016460877740873965,0,0,0,0,0,0,0,0,0,0,0,0,0
10,16385,-3832115078929431881,COPY (SELECT * FROM pg_stat_all_tables) TO stdout WITH CSV HEADER,2,22.882502,3.540957,19.341545,11.441251000000001,7.900294000000001,232,1001,59,0,0,0,0,0,0,0,0,0,0
10,13433,-8026329288367160423,"SELECT c.relname AS table_name, array_length(array_agg(i.indexrelid), $2) > $3 AS has_primary_key                                                                                                                    FROM
    (SELECT oid AS coid, * FROM pg_catalog.pg_class c WHERE relkind IN ($4, $5)) c
    JOIN pg_catalog.pg_namespace n ON (c.relnamespace = n.oid AND n.nspname = $1)
    LEFT JOIN pg_catalog.pg_index i ON (i.indexrelid = c.coid AND i.indisprimary)
GROUP BY c.relname",80,32.93378000000001,0.13978300000000002,0.999109,0.41167224999999996,0.15116358789673026,1746,2928,418,0,282,0,0,0,0,0,0,0,0
10,13433,755499316699468349,SELECT  upper(setting) FROM pg_settings WHERE name=$1,5,4.204445,0.7307750000000001,1.010808,0.840889,0.09922929224175688,5,0,0,0,0,0,0,0,0,0,0,0,0
10,13433,-7736178542227309531,SHOW log_min_messages,5,0.00684,0.000766,0.002427,0.0013679999999999999,0.0006412690542978041,0,0,0,0,0,0,0,0,0,0,0,0,0
16384,16385,-1627277026996633940,"INSERT INTO order_line (ol_o_id, ol_d_id, ol_w_id, ol_number, ol_i_id, ol_supply_w_id, ol_quantity, ol_amount, ol_dist_info)
VALUES (o_id, no_d_id, no_w_id, loop_counter, no_ol_i_id, no_ol_supply_w_id, no_ol_quantity, no_ol_amount, no_ol_dist_info)",657513441,39314613.45271089,0.0031609999999999997,13679.196380000001,0.059792866580729145,7.95529421613858,657513441,3400444275,2525908,13631800,20116484,0,0,0,0,0,0,0,0
10,16385,5316678639987306032,"/* New stuff in 1.1 begins here */

CREATE FUNCTION pgstatginindex(IN relname regclass,
    OUT version INT4,
    OUT pending_pages INT4,
    OUT pending_tuples BIGINT)
AS '$libdir/pgstattuple', 'pgstatginindex'
LANGUAGE C STRICT PARALLEL SAFE",1,0.637878,0.637878,0.637878,0.637878,0,0,58,1,1,0,0,0,0,0,0,0,0,0
10,16385,-2286245184544735808,"SELECT n.nspname AS schema_name, c.relname AS view_name, pg_relation_size(c.oid) / $1 AS mview_size_mb, pg_indexes_size(c.oid) / $2 AS size_of_indexes_mb, pg_total_relation_size(c.oid) / $3 AS total_mview_size_mb FROM pg_class c, pg_namespace n WHERE c.relnamespace = n.oid AND c.relkind = $4",4,1.209531,0.243944,0.362468,0.30238275,0.0419218258510707,0,33,19,0,13,0,0,0,0,0,0,0,0
10,16385,-5642866422942357720,GRANT EXECUTE ON FUNCTION pg_relpages(regclass) TO pg_stat_scan_tables,1,0.060255,0.060255,0.060255,0.060255,0,0,28,0,4,1,0,0,0,0,0,0,0,0
10,16385,6465064219195468563,COPY (SELECT * FROM pg_stat_bgwriter) TO stdout WITH CSV HEADER,2,0.268013,0.11581999999999999,0.15219300000000002,0.1340065,0.01818650000000002,2,0,0,0,0,0,0,0,0,0,0,0,0
16384,16385,-3078489592644963703,DELETE FROM new_order WHERE no_w_id = d_w_id AND no_d_id = d_d_id AND no_o_id = d_no_o_id,65708060,30856255.4256516,0.0035310000000000003,58365.572617,0.46959620213481584,35.122352892367566,65442895,394250831,193822,2253300,135325,0,0,0,0,0,0,0,0
16384,16385,838431727477019084,"SELECT count(c_id)              FROM customer
WHERE c_last = p_c_last AND c_d_id = p_c_d_id AND c_w_id = p_c_w_id",39442250,193842156.09526885,0.00864,60516.279863,4.914581599559429,74.61115267207835,39442250,397745023,323836739,51103510,223947098,0,0,0,0,0,0,0,0
10,16385,5707888583666259747,COPY (SELECT * FROM pg_stat_all_indexes) TO stdout WITH CSV HEADER,2,1.667767,0.7562639999999999,0.9115030000000001,0.8338835,0.07761950000000006,334,1044,0,0,0,0,0,0,0,0,0,0,0
10,13433,-6363133595459221451,SELECT $1,297,1.0223009999999995,0.002044,0.01728,0.00344209090909091,0.0017305966629799555,297,0,0,0,0,0,0,0,0,0,0,0,0
10,13433,678564265944054083,"SELECT
	$2 AS package_name, f.proname AS function_name, $3::""char"" AS function_type,
	f.prorettype::regtype AS return_type, pg_get_function_identity_arguments(f.oid) AS arg_types,
	f.probin AS function_binary, e.extname::text AS extension_name
FROM
	pg_catalog.pg_namespace AS s
	JOIN	pg_catalog.pg_proc AS f
		ON f.pronamespace = s.oid
	LEFT JOIN pg_catalog.pg_depend AS d
		ON (f.oid = d.objid AND d.classid = $4::regclass AND d.refclassid = $5::regclass)
	LEFT JOIN pg_catalog.pg_extension AS e
		ON (d.refobjid = e.oid)
WHERE
	s.nspname = $1",81,644.0290200000001,0.6524420000000001,27.60239,7.950975555555557,7.373100869888019,80379,253140,5574,0,3661,0,0,0,0,0,0,0,0
10,16385,3054876908056495962,GRANT EXECUTE ON FUNCTION pgstatginindex(regclass) TO pg_stat_scan_tables,1,0.052847,0.052847,0.052847,0.052847,0,0,14,0,0,0,0,0,0,0,0,0,0,0
10,16385,-4304855773095583397,"WITH
settings (block_size, shared_buffers, effective_cache_size) AS (
    VALUES (pg_size_bytes(current_setting($1)),
            pg_size_bytes(current_setting($2)),
            pg_size_bytes(current_setting($3)))
),
rels (oid, size) AS (
    SELECT oid, sum(relpages) OVER (ORDER BY relpages)
    FROM pg_class
    WHERE relnamespace = (SELECT oid FROM pg_namespace WHERE nspname = $4)
      AND relkind IN ($5, $6)
)
SELECT pg_prewarm(r.oid, CASE WHEN r.size * s.block_size <= s.shared_buffers THEN $7 ELSE $8 END)
FROM rels AS r,
     settings AS s
WHERE r.size * s.block_size <= GREATEST(s.shared_buffers, s.effective_cache_size)",1,120673.720161,120673.720161,120673.720161,120673.720161,0,19,99596,1188892,0,0,0,0,0,0,0,0,0,0
10,16385,3739758779130701777,"SELECT s.schemaname as schema_name, s.relname as table_name, s.seq_scan, s.seq_tup_read, s.idx_scan, s.idx_tup_fetch, s.n_tup_ins, s.n_tup_upd, s.n_tup_del, s.n_tup_hot_upd, s.n_live_tup, s.n_dead_tup, s.last_vacuum, s.last_autovacuum, s.last_analyze, s.last_autoanalyze, i.heap_blks_read, i.heap_blks_hit, i.idx_blks_read, i.idx_blks_hit, i.toast_blks_read, i.toast_blks_hit, c.relpages AS analyze_pages, c.reltuples AS analyze_tuples, now() AS capture_time FROM pg_stat_all_tables s JOIN pg_statio_all_tables i ON s.relid = i.relid JOIN pg_class c ON s.relid = c.oid WHERE c.relkind != $1",5,61.784757000000006,11.955808,12.653546,12.3569514,0.23090962181217173,580,269,6,0,4,0,0,0,0,0,0,0,0
10,16385,8922248966408053823,"COPY (SELECT c.oid, c.relname, c.relkind, st.* FROM pg_class AS c, pgstattuple(c.oid::regclass) AS st WHERE c.relnamespace = (SELECT oid FROM pg_namespace WHERE nspname = $1) AND relkind IN ($2, $3) ORDER BY relkind, relname) TO stdout WITH CSV HEADER",1,149513.933855,149513.933855,149513.933855,149513.933855,0,19,20740920,24788738,0,0,0,0,0,0,0,0,0,0
10,13433,1310191425066152134,SHOW log_hostname,5,0.005745000000000001,0.00067,0.00251,0.001149,0.000698302513241933,0,0,0,0,0,0,0,0,0,0,0,0,0
16384,16385,-7781024909404130612,"UPDATE customer SET c_balance = c_balance + d_ol_total
WHERE c_id = d_c_id AND c_d_id = d_d_id AND
c_w_id = d_w_id",65708060,43474181.95759959,0.007936,46198.953579,0.6616263203874189,25.96588603242905,65708060,370304707,56450184,59659501,39304324,0,0,0,0,0,0,0,0
16384,16385,7168736505462475819,"SELECT COUNT(DISTINCT s_i_id)                      FROM order_line, stock
    WHERE ol_w_id = st_w_id AND
        ol_d_id = st_d_id AND (ol_o_id < st_o_id) AND
        ol_o_id >= (st_o_id - $6) AND s_w_id = st_w_id AND
        s_i_id = ol_i_id AND s_quantity < threshold",6577537,133504836.77193083,0.394545,61688.072478,20.297086397524545,114.78156946124557,6577537,6798061717,1113065,436971,741384,0,0,0,0,0,0,0,0
10,13433,7756308691762400194,SELECT nspname FROM pg_namespace nsp JOIN pg_proc pro ON pronamespace=nsp.oid WHERE proname = $1,27,3.457753,0.07417,0.44111,0.12806492592592597,0.08059134605684268,0,135,27,0,18,0,0,0,0,0,0,0,0
16384,16385,8542702090381103935,"SELECT c_data               FROM customer
WHERE c_w_id = p_c_w_id AND c_d_id = p_c_d_id AND c_id = p_c_id",30853880,545500.3512549045,0.003155,1066.639889,0.017680121633164358,0.37274027631656764,30853880,152330167,3303385,5509,2281667,0,0,0,0,0,0,0,0
10,16385,-8523811733626467755,REVOKE EXECUTE ON FUNCTION pgstathashindex(regclass) FROM PUBLIC,1,0.021778,0.021778,0.021778,0.021778,0,0,15,0,0,0,0,0,0,0,0,0,0,0
10,13433,2714885131882449453,"SELECT
	schemaname AS schema_name, tablename AS table_name,
	sml.relpages AS estimated_pages, target_pages,
	ROUND(CASE WHEN target_pages = $1 THEN $2
			   ELSE sml.relpages/target_pages::numeric END,$3)
		AS estimated_bloat_multiple,
	CASE WHEN relpages < target_pages
		 THEN $4 ELSE relpages::bigint - target_pages END
		AS estimated_pages_wasted,
	estimated_bytes_per_tuple
FROM (
	SELECT
		schemaname, tablename, cc.relpages, block_size,
		CEIL(cc.reltuples::float /
			CASE WHEN (block_size-page_header) / estimated_bytes_per_tuple = $5
				 THEN $6
				 ELSE ((block_size - page_header) / estimated_bytes_per_tuple)
				 END) AS target_pages,
		estimated_bytes_per_tuple
	 FROM (
		SELECT
			max_align, block_size, schemaname, tablename, page_header,
			(datawidth + max_align
				- CASE WHEN datawidth % max_align = $7 THEN max_align
						ELSE datawidth % max_align END
				+ tuple_header + max_align
				- CASE WHEN tuple_header % max_align = $8 THEN max_align
						ELSE tuple_header % max_align END
				+ (max_null_frac * (null_bitmap_size + max_align -
					    CASE WHEN null_bitmap_size % max_align = $9
					    THEN max_align
					    ELSE null_bitmap_size % max_align END))
				+ item_ptr)::bigint
				AS estimated_bytes_per_tuple
		FROM (
			SELECT
				schemaname, tablename, tuple_header, page_header, item_ptr,
				max_align, block_size,
				CEIL(SUM(($10 - null_frac) * avg_width))::bigint AS datawidth,
				MAX(null_frac) AS max_null_frac,
				(
					SELECT COALESCE(count(*)/$11, $12)
					FROM pg_stats s2
					WHERE null_frac <> $13 AND s2.schemaname = s.schemaname AND
						s2.tablename = s.tablename
				) AS null_bitmap_size
			FROM pg_stats s, (
		       SELECT
		         current_setting($14)::integer AS block_size,
		         CASE WHEN substring(v,$15,$16) IN ($17,$18,$19)
					  THEN $20 ELSE $21 END AS tuple_header,
		         CASE WHEN substring(v,$22,$23) IN ($24,$25,$26)
					  THEN $27 ELSE $28 END::integer AS page_header,
		         $29 AS max_align,
				 $30 AS item_ptr
		       FROM (SELECT (string_to_array(version(), $31))[$32] AS v) AS foo
			) AS constants
			GROUP BY 1,2,3,4,5,6,7
		) AS foo
	) AS rs
	JOIN pg_class cc ON cc.relname = rs.tablename AND cc.relkind != $33
	JOIN pg_namespace nn ON cc.relnamespace = nn.oid
		AND nn.nspname = rs.schemaname
) AS sml",4,25.795924,4.464871,8.570829999999999,6.448981,1.5121670895130936,160,9830,255,0,152,0,0,0,0,0,0,0,0
10,16385,-8763080154347424346,"SELECT ct.conname, ct.conkey, ct.confkey, nl.nspname AS fknsp, cl.relname AS fktab, nr.nspname AS refnsp, cr.relname AS reftab FROM pg_constraint ct JOIN pg_class cl ON cl.oid = ct.conrelid JOIN pg_namespace nl ON nl.oid = cl.relnamespace JOIN pg_class cr ON cr.oid = ct.confrelid JOIN pg_namespace nr ON nr.oid = cr.relnamespace JOIN pg_catalog.pg_namespace nc ON nc.oid = ct.connamespace WHERE contype=$2 AND nc.nspname = $1",80,5.472112999999999,0.011892,1.037232,0.06840141249999998,0.11286603602830364,0,3,77,0,56,0,0,0,0,0,0,0,0
10,13433,3739758779130701777,"SELECT s.schemaname as schema_name, s.relname as table_name, s.seq_scan, s.seq_tup_read, s.idx_scan, s.idx_tup_fetch, s.n_tup_ins, s.n_tup_upd, s.n_tup_del, s.n_tup_hot_upd, s.n_live_tup, s.n_dead_tup, s.last_vacuum, s.last_autovacuum, s.last_analyze, s.last_autoanalyze, i.heap_blks_read, i.heap_blks_hit, i.idx_blks_read, i.idx_blks_hit, i.toast_blks_read, i.toast_blks_hit, c.relpages AS analyze_pages, c.reltuples AS analyze_tuples, now() AS capture_time FROM pg_stat_all_tables s JOIN pg_statio_all_tables i ON s.relid = i.relid JOIN pg_class c ON s.relid = c.oid WHERE c.relkind != $1",5,59.557708,11.705715999999999,12.159097000000001,11.9115416,0.17149585101990117,530,252,23,0,15,0,0,0,0,0,0,0,0
10,16385,435174621275570554,COPY (SELECT * FROM pg_stat_database) TO stdout WITH CSV HEADER,2,39.798329,11.95912,27.839209,19.8991645,7.940044500000001,10,261,62,0,0,0,0,0,0,0,0,0,0
10,13433,-3025636329378158246,SHOW log_filename,5,0.011101999999999999,0.000837,0.006318,0.0022204,0.002072055848668177,0,0,0,0,0,0,0,0,0,0,0,0,0
16384,16385,-152674211127181809,"UPDATE order_line SET ol_delivery_d = current_timestamp
WHERE ol_o_id = d_no_o_id AND ol_d_id = d_d_id AND
ol_w_id = d_w_id",65708060,287621136.99018896,0.012986000000000001,67346.825179,4.377258086605591,63.12664467298115,657099118,2229001005,65630800,68994705,51237536,0,0,0,0,0,0,0,0
16384,16385,8629570183592985742,"INSERT INTO NEW_ORDER (no_o_id, no_d_id, no_w_id) VALUES (o_id, no_d_id, no_w_id)",65750878,2863324.6278409758,0.004614,6573.107104,0.04354808201710813,1.0820762202385474,65750878,334116077,630373,767041,635193,0,0,0,0,0,0,0,0
10,16385,-5109480985238204195,COPY (SELECT * FROM pg_stat_bgwriter) TO stdout WITH CSV HEADER,2,1.825415,0.67559,1.149825,0.9127075,0.2371175,2,124,4,0,0,0,0,0,0,0,0,0,0
10,16385,8476351455718547263,REVOKE EXECUTE ON FUNCTION pgstattuple(text) FROM PUBLIC,1,2.428705,2.428705,2.428705,2.428705,0,0,23,7,3,0,0,0,0,0,0,0,0,0
10,13433,3010543408611823816,SHOW log_error_verbosity,5,0.005046999999999999,0.00074,0.00193,0.0010094000000000001,0.00046174564426749065,0,0,0,0,0,0,0,0,0,0,0,0,0
10,16385,8073967179673371483,REVOKE EXECUTE ON FUNCTION pg_relpages(text) FROM PUBLIC,1,0.786236,0.786236,0.786236,0.786236,0,0,19,1,1,0,0,0,0,0,0,0,0,0
10,16385,-7053481684217008096,REVOKE EXECUTE ON FUNCTION pgstatindex(regclass) FROM PUBLIC,1,0.018802,0.018802,0.018802,0.018802,0,0,10,0,0,0,0,0,0,0,0,0,0,0
16384,16385,-6677403096909041306,select sum(d_next_o_id) from district,2,1077.108865,159.091814,918.0170509999999,538.5544325,379.46261849999996,2,4164,38631,3,25943,0,0,0,0,0,0,0,0
10,16385,7197326979178551549,GRANT EXECUTE ON FUNCTION pgstatindex(regclass) TO pg_stat_scan_tables,1,0.043706,0.043706,0.043706,0.043706,0,0,26,1,1,0,0,0,0,0,0,0,0,0
10,13433,-2671880588815399326,"SELECT n.nspname AS schema_name, c.relname AS table_name, pg_relation_size(c.oid) / $1 AS table_size_mb, pg_indexes_size(c.oid) / $2 AS size_of_indexes_mb, pg_total_relation_size(c.oid) / $3 AS total_table_size_mb FROM pg_class c, pg_namespace n WHERE c.relnamespace = n.oid AND c.relkind IN ($4, $5)",5,35.551596,5.152897,8.274087,7.1103192,1.1566398976231795,335,6795,40,0,32,0,0,0,0,0,0,0,0
16384,16385,-6709095786360440765,select max(d_id) from district,500,13139.231936000006,1.820339,323.53486100000003,26.27846387199999,43.723623697427314,500,2262411,121,0,89,0,0,0,0,0,0,0,0
10,13433,5093536722758435631,SHOW debug_pretty_print,5,0.004862,0.000635,0.001396,0.0009724,0.00029112512773719825,0,0,0,0,0,0,0,0,0,0,0,0,0
10,16385,-2671880588815399326,"SELECT n.nspname AS schema_name, c.relname AS table_name, pg_relation_size(c.oid) / $1 AS table_size_mb, pg_indexes_size(c.oid) / $2 AS size_of_indexes_mb, pg_total_relation_size(c.oid) / $3 AS total_table_size_mb FROM pg_class c, pg_namespace n WHERE c.relnamespace = n.oid AND c.relkind IN ($4, $5)",5,53.103190000000005,8.372330000000002,16.333612000000002,10.620638000000001,2.9848326048130076,380,7723,97,0,73,0,0,0,0,0,0,0,0
10,16385,7104491036261723972,COPY (SELECT * FROM pg_settings) TO stdout WITH CSV HEADER,1,3.407356,3.407356,3.407356,3.407356,0,322,34,4,0,0,0,0,0,0,0,0,0,0
